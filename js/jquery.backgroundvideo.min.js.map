{"version":3,"sources":["jquery.backgroundvideo.js"],"names":["$","backgroundVideo","el","options","defaults","videoid","autoplay","loop","preload","plugin","this","settings","init","extend","buildVideo","html","preloadString","autoplayString","loopString","_preload","_autoplay","_loop","poster","i","types","length","path","filename","videoEl","document","getElementById","$videoEl","fadeIn","setProportion","proportion","getProportion","width","height","align","centerVideo","windowWidth","window","windowHeight","windowProportion","origProportion","centerX","centerY","css","left","top","resize","bind","play","jQuery"],"mappings":"CAQA,SAAUA,GAERA,EAAEC,gBAAkB,SAASC,EAAIC,GAE/B,GAAIC,IACFC,QAAS,mBACTC,UAAU,EACVC,MAAM,EACNC,SAAS,GAGPC,EAASC,IAEbD,GAAOE,WAEP,IAAIC,GAAO,WACTH,EAAOE,SAAWX,EAAEa,UAAWT,EAAUD,GACzCM,EAAOP,GAAKA,EAEZY,KAGEA,EAAa,WACf,GAAIC,GAAO,GACPC,EAAgB,GAChBC,EAAiB,GACjBC,EAAa,GACbC,EAAWV,EAAOE,SAASH,QAC3BY,EAAYX,EAAOE,SAASL,SAC5Be,EAAQZ,EAAOE,SAASJ,IAG1BS,GADEG,EACc,iBAEA,GAIhBF,EADEG,EACe,sBAEA,GAIjBF,EADEG,EACW,cAEA,GAGfN,GAAQ,cAAcN,EAAOE,SAASN,QAAQ,IAAMW,EAAgBC,EAAiBC,EAEjFT,EAAOE,SAASW,SAClBP,GAAQ,YAAcN,EAAOE,SAASW,OAAS,MAGjDP,GAAQ,yGACR,KAAI,GAAIQ,GAAE,EAAGA,EAAId,EAAOE,SAASa,MAAMC,OAAQF,IAC7CR,GAAQ,gBAAgBN,EAAOE,SAASe,KAAKjB,EAAOE,SAASgB,SAAS,IAAIlB,EAAOE,SAASa,MAAMD,GAAG,iBAAiBd,EAAOE,SAASa,MAAMD,GAAG,MAE/IR,IAAQ,kBACRN,EAAOP,GAAGa,KAAKA,GACfN,EAAOmB,QAAUC,SAASC,eAAerB,EAAOE,SAASN,SACzDI,EAAOsB,SAAW/B,EAAES,EAAOmB,SAC3BnB,EAAOsB,SAASC,OAAO,KACvBC,KAGEA,EAAgB,WAClB,GAAIC,GAAaC,GACjB1B,GAAOsB,SAASK,MAAMF,EAAWzB,EAAOE,SAASyB,OACjD3B,EAAOsB,SAASM,OAAOH,EAAWzB,EAAOE,SAAS0B,QAEb,mBAA1B5B,GAAOE,SAAS2B,OACzBC,KAIAJ,EAAgB,WAClB,GAAIK,GAAcxC,EAAEyC,QAAQL,QACxBM,EAAe1C,EAAEyC,QAAQJ,SACzBM,EAAmBH,EAAcE,EACjCE,EAAiBnC,EAAOE,SAASyB,MAAQ3B,EAAOE,SAAS0B,OACzDH,EAAaQ,EAAejC,EAAOE,SAAS0B,MAMhD,OAJIM,IAAoBC,IACtBV,EAAaM,EAAc/B,EAAOE,SAASyB,OAGtCF,GAGLK,EAAc,WAChB,GAAIM,IAAY7C,EAAEyC,QAAQL,SAAW,IAAM3B,EAAOsB,SAASK,SAAW,GAAM,EACxEU,GAAY9C,EAAEyC,QAAQJ,UAAY,IAAM5B,EAAOsB,SAASM,UAAY,GAAM,CAE9E,OAA6B,YAAzB5B,EAAOE,SAAS2B,UAClB7B,GAAOsB,SAASgB,KAAMC,KAAQH,EAASI,IAAOH,IAInB,WAAzBrC,EAAOE,SAAS2B,UAClB7B,GAAOsB,SAASgB,IAAI,OAAQF,GAID,WAAzBpC,EAAOE,SAAS2B,UAClB7B,GAAOsB,SAASgB,IAAI,MAAOD,GAD7B,OAMFlC,KAEAZ,EAAEyC,QAAQS,OAAO,WAAajB,MAC9BxB,EAAOsB,SAASoB,KAAK,QAAS,WAAYzC,KAAK0C,WAEhDC","file":"jquery.backgroundvideo.min.js","sourcesContent":["/*\n* jQuery Background video plugin for jQuery\n* ---\n* Copyright 2011, Victor Coulon (http://victorcoulon.fr)\n* Released under the MIT, BSD, and GPL Licenses.\n* based on jQuery Plugin Boilerplate 1.3\n*/\n\n(function($) {\n\n  $.backgroundVideo = function(el, options) {\n\n    var defaults = {\n      videoid: \"video_background\",\n      autoplay: true,\n      loop: true,\n      preload: true\n    }\n\n    var plugin = this;\n\n    plugin.settings = {}\n\n    var init = function() {\n      plugin.settings = $.extend({}, defaults, options);\n      plugin.el = el;\n\n      buildVideo();\n    }\n\n    var buildVideo = function () {\n      var html = '',\n          preloadString = '',\n          autoplayString = '',\n          loopString = '',\n          _preload = plugin.settings.preload,\n          _autoplay = plugin.settings.autoplay,\n          _loop = plugin.settings.loop;\n\n      if (_preload) {\n        preloadString = 'preload=\"auto\"';\n      } else {\n        preloadString = '';\n      }\n\n      if (_autoplay) {\n        autoplayString = 'autoplay=\"autoplay\"';\n      } else {\n        autoplayString = '';\n      }\n\n      if (_loop) {\n        loopString = 'loop=\"true\"';\n      } else {\n        loopString = '';\n      }\n\n      html += '<video id=\"'+plugin.settings.videoid+'\"' + preloadString + autoplayString + loopString;\n\n      if (plugin.settings.poster) {\n        html += ' poster=\"' + plugin.settings.poster + '\" ';\n      }\n\n      html += 'style=\"display:none;position:fixed;top:0;left:0;bottom:0;right:0;z-index:-100;width:100%;height:100%;\">';\n      for(var i=0; i < plugin.settings.types.length; i++) {\n        html += '<source src=\"'+plugin.settings.path+plugin.settings.filename+'.'+plugin.settings.types[i]+'\" type=\"video/'+plugin.settings.types[i]+'\" />';\n      }\n      html += 'bgvideo</video>';\n      plugin.el.html(html);\n      plugin.videoEl = document.getElementById(plugin.settings.videoid);\n      plugin.$videoEl = $(plugin.videoEl);\n      plugin.$videoEl.fadeIn(2000);\n      setProportion();\n    }\n\n    var setProportion = function () {\n      var proportion = getProportion();\n      plugin.$videoEl.width(proportion*plugin.settings.width);\n      plugin.$videoEl.height(proportion*plugin.settings.height);\n\n      if (typeof plugin.settings.align !== 'undefined') {\n        centerVideo();\n      }\n    }\n\n    var getProportion = function () {\n      var windowWidth = $(window).width();\n      var windowHeight = $(window).height();\n      var windowProportion = windowWidth / windowHeight;\n      var origProportion = plugin.settings.width / plugin.settings.height;\n      var proportion = windowHeight / plugin.settings.height;\n\n      if (windowProportion >= origProportion) {\n        proportion = windowWidth / plugin.settings.width;\n      }\n\n      return proportion;\n    }\n\n    var centerVideo = function() {\n      var centerX = (($(window).width() >> 1) - (plugin.$videoEl.width() >> 1)) | 0;\n      var centerY = (($(window).height() >> 1) - (plugin.$videoEl.height() >> 1)) | 0;\n\n      if (plugin.settings.align == 'centerXY') {\n        plugin.$videoEl.css({ 'left': centerX, 'top': centerY });\n        return;\n      }\n\n      if (plugin.settings.align == 'centerX') {\n        plugin.$videoEl.css('left', centerX);\n        return;\n      }\n\n      if (plugin.settings.align == 'centerY') {\n        plugin.$videoEl.css('top', centerY);\n        return;\n      }\n    }\n\n    init();\n\n    $(window).resize(function() { setProportion(); });\n    plugin.$videoEl.bind('ended', function(){ this.play(); });\n  }\n})(jQuery);\n"],"sourceRoot":"/source/"}