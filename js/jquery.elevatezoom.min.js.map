{"version":3,"sources":["jquery.elevatezoom.js"],"names":["Object","create","obj","F","prototype","$","window","document","undefined","ElevateZoom","init","options","elem","self","this","$elem","imageSrc","data","attr","extend","fn","elevateZoom","tint","lensColour","lensOpacity","zoomType","showLens","parent","removeAttr","zoomImage","refresh","gallery","click","e","galleryActiveClass","removeClass","addClass","preventDefault","zoomImagePre","swaptheimage","length","setTimeout","fetch","imgsrc","newImg","Image","onload","largeWidth","width","largeHeight","height","startZoom","currentImage","onZoomedImageLoaded","src","nzWidth","nzHeight","isWindowActive","isLensActive","isTintActive","overWindow","imageCrossfade","zoomWrap","wrap","css","zoomLock","scrollingLock","changeBgSize","currentZoomLevel","zoomLevel","nzOffset","offset","widthRatio","heightRatio","zoomWindowStyle","String","zoomWindowBgColour","zoomWindowWidth","zoomWindowHeight","borderSize","borderColour","borderWidth","lensHeight","lensWidth","lensStyle","tintStyle","tintColour","lensRound","lensSize","lensShape","zoomContainer","left","top","append","containLensZoom","zoomLens","appendTo","trigger","tintContainer","zoomTint","zoomTintcss","after","zoomTintImage","zoomWindow","isNaN","zoomWindowPosition","zoomWindowContainer","backgroundImage","bind","touch","originalEvent","touches","changedTouches","setPosition","showHideWindow","showHideLens","showHideTint","setElements","lastX","clientX","lastY","clientY","currentLoc","add","mouseenter","mouseleave","scrollLock","onDestroy","minZoomLevel","scrollZoomIncrement","scrollZoom","clearTimeout","theEvent","wheelDelta","detail","stopImmediatePropagation","stopPropagation","changeZoomLevel","maxZoomLevel","parseFloat","type","zoomEnabled","isWindowSet","responsive","mouseLeft","parseInt","pageX","mouseTop","pageY","Etoppos","Eboppos","lensBorderSize","Eloppos","Eroppos","lensLeftPos","Math","floor","lensTopPos","windowLeftPos","tintpos","max","windowTopPos","backgroundPosition","background-size","newvalueheight","newvaluewidth","setWindowPostition","setTintPosition","fullwidth","change","zoomWindowFadeIn","stop","fadeIn","show","zoomWindowFadeOut","fadeOut","loop","clearInterval","hide","lensFadeIn","lensFadeOut","zoomTintFadeIn","opacity","tintOpacity","animate","zoomTintFadeOut","setLensPostition","externalContainer","externalContainerWidth","externalContainerHeight","externalContainerOffset","windowOffsetTop","windowOffsetLeft","zoomWindowOffety","zoomWindowOffetx","fullheight","easing","xp","yp","setInterval","easingAmount","round","abs","tintposy","smallimage","largeimage","loadingIcon","spinner","onImageSwap","swapAction","newImg2","onImageSwapComplete","doneCallback","oldImg","clone","remove","oldImgTint","newImgTint","constrainType","constrainSize","constwidth","constheight","getCurrentImage","getGalleryList","gallerylist","each","img_src","unshift","href","title","find","push","value","newvalue","toFixed","maxheightnewvalue","maxwidthtnewvalue","scrcontinue","changeZoom","closeAll","changeState","elevate","zoomActivation","preloading","debug","zoomWindowAlwaysShow","lensBorderColour","lenszoom","cursor","onComplete","noop","jQuery"],"mappings":"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","file":"jquery.elevatezoom.min.js","sourcesContent":["/*\r\n *\tjQuery elevateZoom 3.0.8\r\n *\tDemo's and documentation:\r\n *\twww.elevateweb.co.uk/image-zoom\r\n *\r\n *\tCopyright (c) 2012 Andrew Eades\r\n *\twww.elevateweb.co.uk\r\n *\r\n *\tDual licensed under the GPL and MIT licenses.\r\n *\thttp://en.wikipedia.org/wiki/MIT_License\r\n *\thttp://en.wikipedia.org/wiki/GNU_General_Public_License\r\n *\r\n\r\n/*\r\n *\tjQuery elevateZoom 3.0.3\r\n *\tDemo's and documentation:\r\n *\twww.elevateweb.co.uk/image-zoom\r\n *\r\n *\tCopyright (c) 2012 Andrew Eades\r\n *\twww.elevateweb.co.uk\r\n *\r\n *\tDual licensed under the GPL and MIT licenses.\r\n *\thttp://en.wikipedia.org/wiki/MIT_License\r\n *\thttp://en.wikipedia.org/wiki/GNU_General_Public_License\r\n */\r\n\r\n\r\nif ( typeof Object.create !== 'function' ) {\r\n\tObject.create = function( obj ) {\r\n\t\tfunction F() {};\r\n\t\tF.prototype = obj;\r\n\t\treturn new F();\r\n\t};\r\n}\r\n\r\n(function( $, window, document, undefined ) {\r\n\tvar ElevateZoom = {\r\n\t\t\tinit: function( options, elem ) {\r\n\t\t\t\tvar self = this;\r\n\r\n\t\t\t\tself.elem = elem;\r\n\t\t\t\tself.$elem = $( elem );\r\n\r\n\t\t\t\tself.imageSrc = self.$elem.data(\"zoom-image\") ? self.$elem.data(\"zoom-image\") : self.$elem.attr(\"src\");\r\n\r\n\t\t\t\tself.options = $.extend( {}, $.fn.elevateZoom.options, options );\r\n\r\n\t\t\t\t//TINT OVERRIDE SETTINGS\r\n\t\t\t\tif(self.options.tint) {\r\n\t\t\t\t\tself.options.lensColour = \"none\", //colour of the lens background\r\n\t\t\t\t\tself.options.lensOpacity =  \"1\" //opacity of the lens\r\n\t\t\t\t}\r\n\t\t\t\t//INNER OVERRIDE SETTINGS\r\n\t\t\t\tif(self.options.zoomType == \"inner\") {self.options.showLens = false;}\r\n\r\n\r\n\t\t\t\t//Remove alt on hover\r\n\r\n\t\t\t\tself.$elem.parent().removeAttr('title').removeAttr('alt');\r\n\r\n\t\t\t\tself.zoomImage = self.imageSrc;\r\n\r\n\t\t\t\tself.refresh( 1 );\r\n\r\n\r\n\r\n\t\t\t\t//Create the image swap from the gallery \r\n\t\t\t\t$('#'+self.options.gallery + ' a').click( function(e) { \r\n\r\n\t\t\t\t\t//Set a class on the currently active gallery image\r\n\t\t\t\t\tif(self.options.galleryActiveClass){\r\n\t\t\t\t\t\t$('#'+self.options.gallery + ' a').removeClass(self.options.galleryActiveClass);\r\n\t\t\t\t\t\t$(this).addClass(self.options.galleryActiveClass);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//stop any link on the a tag from working\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t//call the swap image function            \r\n\t\t\t\t\tif($(this).data(\"zoom-image\")){self.zoomImagePre = $(this).data(\"zoom-image\")}\r\n\t\t\t\t\telse{self.zoomImagePre = $(this).data(\"image\");}\r\n\t\t\t\t\tself.swaptheimage($(this).data(\"image\"), self.zoomImagePre);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\r\n\t\t\trefresh: function( length ) {\r\n\t\t\t\tvar self = this;\r\n\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tself.fetch(self.imageSrc);\r\n\r\n\t\t\t\t}, length || self.options.refresh );\r\n\t\t\t},\r\n\r\n\t\t\tfetch: function(imgsrc) {\r\n\t\t\t\t//get the image\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tvar newImg = new Image();\r\n\t\t\t\tnewImg.onload = function() {\r\n\t\t\t\t\t//set the large image dimensions - used to calculte ratio's\r\n\t\t\t\t\tself.largeWidth = newImg.width;\r\n\t\t\t\t\tself.largeHeight = newImg.height;\r\n\t\t\t\t\t//once image is loaded start the calls\r\n\t\t\t\t\tself.startZoom();\r\n\t\t\t\t\tself.currentImage = self.imageSrc;\r\n\t\t\t\t\t//let caller know image has been loaded\r\n\t\t\t\t\tself.options.onZoomedImageLoaded(self.$elem);\r\n\t\t\t\t}\r\n\t\t\t\tnewImg.src = imgsrc; // this must be done AFTER setting onload\r\n\r\n\t\t\t\treturn;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tstartZoom: function( ) {\r\n\t\t\t\tvar self = this;\r\n\t\t\t\t//get dimensions of the non zoomed image\r\n\t\t\t\tself.nzWidth = self.$elem.width();\r\n\t\t\t\tself.nzHeight = self.$elem.height();\r\n\r\n\t\t\t\t//activated elements\r\n\t\t\t\tself.isWindowActive = false;\r\n\t\t\t\tself.isLensActive = false;\r\n\t\t\t\tself.isTintActive = false;\r\n\t\t\t\tself.overWindow = false;    \r\n\r\n\t\t\t\t//CrossFade Wrappe\r\n\t\t\t\tif(self.options.imageCrossfade){\r\n\t\t\t\t\tself.zoomWrap = self.$elem.wrap('<div style=\"height:'+self.nzHeight+'px;width:'+self.nzWidth+'px;\" class=\"zoomWrapper\" />');        \r\n\t\t\t\t\tself.$elem.css('position', 'absolute'); \r\n\t\t\t\t}\r\n\r\n\t\t\t\tself.zoomLock = 1;\r\n\t\t\t\tself.scrollingLock = false;\r\n\t\t\t\tself.changeBgSize = false;\r\n\t\t\t\tself.currentZoomLevel = self.options.zoomLevel;\r\n\r\n\r\n\t\t\t\t//get offset of the non zoomed image\r\n\t\t\t\tself.nzOffset = self.$elem.offset();\r\n\t\t\t\t//calculate the width ratio of the large/small image\r\n\t\t\t\tself.widthRatio = (self.largeWidth/self.currentZoomLevel) / self.nzWidth;\r\n\t\t\t\tself.heightRatio = (self.largeHeight/self.currentZoomLevel) / self.nzHeight; \r\n\r\n\r\n\t\t\t\t//if window zoom        \r\n\t\t\t\tif(self.options.zoomType == \"window\") {\r\n\t\t\t\t\tself.zoomWindowStyle = \"overflow: hidden;\"\r\n\t\t\t\t\t\t+ \"background-position: 0px 0px;text-align:center;\"  \r\n\t\t\t\t\t\t+ \"background-color: \" + String(self.options.zoomWindowBgColour)            \r\n\t\t\t\t\t\t+ \";width: \" + String(self.options.zoomWindowWidth) + \"px;\"\r\n\t\t\t\t\t\t+ \"height: \" + String(self.options.zoomWindowHeight)\r\n\t\t\t\t\t\t+ \"px;float: left;\"\r\n\t\t\t\t\t\t+ \"background-size: \"+ self.largeWidth/self.currentZoomLevel+ \"px \" +self.largeHeight/self.currentZoomLevel + \"px;\"\r\n\t\t\t\t\t\t+ \"display: none;z-index:100;\"\r\n\t\t\t\t\t\t+ \"border: \" + String(self.options.borderSize) \r\n\t\t\t\t\t\t+ \"px solid \" + self.options.borderColour \r\n\t\t\t\t\t\t+ \";background-repeat: no-repeat;\"\r\n\t\t\t\t\t\t+ \"position: absolute;\";\r\n\t\t\t\t}    \r\n\r\n\r\n\t\t\t\t//if inner  zoom    \r\n\t\t\t\tif(self.options.zoomType == \"inner\") {\r\n\t\t\t\t\t//has a border been put on the image? Lets cater for this\r\n\r\n\t\t\t\t\tvar borderWidth = self.$elem.css(\"border-left-width\");\r\n\r\n\t\t\t\t\tself.zoomWindowStyle = \"overflow: hidden;\"\r\n\t\t\t\t\t\t+ \"margin-left: \" + String(borderWidth) + \";\" \r\n\t\t\t\t\t\t+ \"margin-top: \" + String(borderWidth) + \";\"         \r\n\t\t\t\t\t\t+ \"background-position: 0px 0px;\"\r\n\t\t\t\t\t\t+ \"width: \" + String(self.nzWidth) + \"px;\"\r\n\t\t\t\t\t\t+ \"height: \" + String(self.nzHeight) + \"px;\"\r\n\t\t\t\t\t\t+ \"px;float: left;\"\r\n\t\t\t\t\t\t+ \"display: none;\"\r\n\t\t\t\t\t\t+ \"cursor:\"+(self.options.cursor)+\";\"\r\n\t\t\t\t\t\t+ \"px solid \" + self.options.borderColour \r\n\t\t\t\t\t\t+ \";background-repeat: no-repeat;\"\r\n\t\t\t\t\t\t+ \"position: absolute;\";\r\n\t\t\t\t}    \r\n\r\n\r\n\r\n\t\t\t\t//lens style for window zoom\r\n\t\t\t\tif(self.options.zoomType == \"window\") {\r\n\r\n\r\n\t\t\t\t\t// adjust images less than the window height\r\n\r\n\t\t\t\t\tif(self.nzHeight < self.options.zoomWindowWidth/self.widthRatio){\r\n\t\t\t\t\t\tlensHeight = self.nzHeight;              \r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tlensHeight = String((self.options.zoomWindowHeight/self.heightRatio))\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(self.largeWidth < self.options.zoomWindowWidth){\r\n\t\t\t\t\t\tlensWidth = self.nzWidth;\r\n\t\t\t\t\t}       \r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tlensWidth =  (self.options.zoomWindowWidth/self.widthRatio);\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tself.lensStyle = \"background-position: 0px 0px;width: \" + String((self.options.zoomWindowWidth)/self.widthRatio) + \"px;height: \" + String((self.options.zoomWindowHeight)/self.heightRatio)\r\n\t\t\t\t\t+ \"px;float: right;display: none;\"\r\n\t\t\t\t\t+ \"overflow: hidden;\"\r\n\t\t\t\t\t+ \"z-index: 999;\"   \r\n\t\t\t\t\t+ \"-webkit-transform: translateZ(0);\"               \r\n\t\t\t\t\t+ \"opacity:\"+(self.options.lensOpacity)+\";filter: alpha(opacity = \"+(self.options.lensOpacity*100)+\"); zoom:1;\"\r\n\t\t\t\t\t+ \"width:\"+lensWidth+\"px;\"\r\n\t\t\t\t\t+ \"height:\"+lensHeight+\"px;\"\r\n\t\t\t\t\t+ \"background-color:\"+(self.options.lensColour)+\";\"\t\t\t\t\t\r\n\t\t\t\t\t+ \"cursor:\"+(self.options.cursor)+\";\"\r\n\t\t\t\t\t+ \"border: \"+(self.options.lensBorderSize)+\"px\" +\r\n\t\t\t\t\t\" solid \"+(self.options.lensBorderColour)+\";background-repeat: no-repeat;position: absolute;\";\r\n\t\t\t\t} \r\n\r\n\r\n\t\t\t\t//tint style\r\n\t\t\t\tself.tintStyle = \"display: block;\"\r\n\t\t\t\t\t+ \"position: absolute;\"\r\n\t\t\t\t\t+ \"background-color: \"+self.options.tintColour+\";\"\t\r\n\t\t\t\t\t+ \"filter:alpha(opacity=0);\"\t\t\r\n\t\t\t\t\t+ \"opacity: 0;\"\t\r\n\t\t\t\t\t+ \"width: \" + self.nzWidth + \"px;\"\r\n\t\t\t\t\t+ \"height: \" + self.nzHeight + \"px;\"\r\n\r\n\t\t\t\t\t;\r\n\r\n\t\t\t\t//lens style for lens zoom with optional round for modern browsers\r\n\t\t\t\tself.lensRound = '';\r\n\r\n\t\t\t\tif(self.options.zoomType == \"lens\") {\r\n\r\n\t\t\t\t\tself.lensStyle = \"background-position: 0px 0px;\"\r\n\t\t\t\t\t\t+ \"float: left;display: none;\"\r\n\t\t\t\t\t\t+ \"border: \" + String(self.options.borderSize) + \"px solid \" + self.options.borderColour+\";\"\r\n\t\t\t\t\t\t+ \"width:\"+ String(self.options.lensSize) +\"px;\"\r\n\t\t\t\t\t\t+ \"height:\"+ String(self.options.lensSize)+\"px;\"\r\n\t\t\t\t\t\t+ \"background-repeat: no-repeat;position: absolute;\";\r\n\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t//does not round in all browsers\r\n\t\t\t\tif(self.options.lensShape == \"round\") {\r\n\t\t\t\t\tself.lensRound = \"border-top-left-radius: \" + String(self.options.lensSize / 2 + self.options.borderSize) + \"px;\"\r\n\t\t\t\t\t+ \"border-top-right-radius: \" + String(self.options.lensSize / 2 + self.options.borderSize) + \"px;\"\r\n\t\t\t\t\t+ \"border-bottom-left-radius: \" + String(self.options.lensSize / 2 + self.options.borderSize) + \"px;\"\r\n\t\t\t\t\t+ \"border-bottom-right-radius: \" + String(self.options.lensSize / 2 + self.options.borderSize) + \"px;\";\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//create the div's                                                + \"\"\r\n\t\t\t\t//self.zoomContainer = $('<div/>').addClass('zoomContainer').css({\"position\":\"relative\", \"height\":self.nzHeight, \"width\":self.nzWidth});\r\n\r\n\t\t\t\tself.zoomContainer = $('<div class=\"zoomContainer\" style=\"-webkit-transform: translateZ(0);position:absolute;left:'+self.nzOffset.left+'px;top:'+self.nzOffset.top+'px;height:'+self.nzHeight+'px;width:'+self.nzWidth+'px;\"></div>');\r\n\t\t\t\t$('body').append(self.zoomContainer);\t\r\n\r\n\r\n\t\t\t\t//this will add overflow hidden and contrain the lens on lens mode       \r\n\t\t\t\tif(self.options.containLensZoom && self.options.zoomType == \"lens\"){\r\n\t\t\t\t\tself.zoomContainer.css(\"overflow\", \"hidden\");\r\n\t\t\t\t}\r\n\t\t\t\tif(self.options.zoomType != \"inner\") {\r\n\t\t\t\t\tself.zoomLens = $(\"<div class='zoomLens' style='\" + self.lensStyle + self.lensRound +\"'>&nbsp;</div>\")\r\n\t\t\t\t\t.appendTo(self.zoomContainer)\r\n\t\t\t\t\t.click(function () {\r\n\t\t\t\t\t\tself.$elem.trigger('click');\r\n\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\tif(self.options.tint) {\r\n\t\t\t\t\t\tself.tintContainer = $('<div/>').addClass('tintContainer');\t\r\n\t\t\t\t\t\tself.zoomTint = $(\"<div class='zoomTint' style='\"+self.tintStyle+\"'></div>\");\r\n\r\n\r\n\t\t\t\t\t\tself.zoomLens.wrap(self.tintContainer);\r\n\r\n\r\n\t\t\t\t\t\tself.zoomTintcss = self.zoomLens.after(self.zoomTint);\t\r\n\r\n\t\t\t\t\t\t//if tint enabled - set an image to show over the tint\r\n\r\n\t\t\t\t\t\tself.zoomTintImage = $('<img style=\"position: absolute; left: 0px; top: 0px; max-width: none; width: '+self.nzWidth+'px; height: '+self.nzHeight+'px;\" src=\"'+self.imageSrc+'\">')\r\n\t\t\t\t\t\t.appendTo(self.zoomLens)\r\n\t\t\t\t\t\t.click(function () {\r\n\r\n\t\t\t\t\t\t\tself.$elem.trigger('click');\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}          \r\n\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t//create zoom window \r\n\t\t\t\tif(isNaN(self.options.zoomWindowPosition)){\r\n\t\t\t\t\tself.zoomWindow = $(\"<div style='z-index:999;left:\"+(self.windowOffsetLeft)+\"px;top:\"+(self.windowOffsetTop)+\"px;\" + self.zoomWindowStyle + \"' class='zoomWindow'>&nbsp;</div>\")\r\n\t\t\t\t\t.appendTo('body')\r\n\t\t\t\t\t.click(function () {\r\n\t\t\t\t\t\tself.$elem.trigger('click');\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tself.zoomWindow = $(\"<div style='z-index:999;left:\"+(self.windowOffsetLeft)+\"px;top:\"+(self.windowOffsetTop)+\"px;\" + self.zoomWindowStyle + \"' class='zoomWindow'>&nbsp;</div>\")\r\n\t\t\t\t\t.appendTo(self.zoomContainer)\r\n\t\t\t\t\t.click(function () {\r\n\t\t\t\t\t\tself.$elem.trigger('click');\r\n\t\t\t\t\t});\r\n\t\t\t\t}              \r\n\t\t\t\tself.zoomWindowContainer = $('<div/>').addClass('zoomWindowContainer').css(\"width\",self.options.zoomWindowWidth);\r\n\t\t\t\tself.zoomWindow.wrap(self.zoomWindowContainer);\r\n\r\n\r\n\t\t\t\t//  self.captionStyle = \"text-align: left;background-color: black;color: white;font-weight: bold;padding: 10px;font-family: sans-serif;font-size: 11px\";                                                                                                                                                                                                                                          \r\n\t\t\t\t// self.zoomCaption = $('<div class=\"elevatezoom-caption\" style=\"'+self.captionStyle+'display: block; width: 280px;\">INSERT ALT TAG</div>').appendTo(self.zoomWindow.parent());\r\n\r\n\t\t\t\tif(self.options.zoomType == \"lens\") {\r\n\t\t\t\t\tself.zoomLens.css({ backgroundImage: \"url('\" + self.imageSrc + \"')\" }); \r\n\t\t\t\t}\r\n\t\t\t\tif(self.options.zoomType == \"window\") {\r\n\t\t\t\t\tself.zoomWindow.css({ backgroundImage: \"url('\" + self.imageSrc + \"')\" }); \r\n\t\t\t\t}\r\n\t\t\t\tif(self.options.zoomType == \"inner\") {\r\n\t\t\t\t\tself.zoomWindow.css({ backgroundImage: \"url('\" + self.imageSrc + \"')\" }); \r\n\t\t\t\t}\r\n\t\t\t\t/*-------------------END THE ZOOM WINDOW AND LENS----------------------------------*/\r\n\t\t\t\t//touch events\r\n\t\t\t\tself.$elem.bind('touchmove', function(e){    \r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tvar touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];  \r\n\t\t\t\t\tself.setPosition(touch);\r\n\r\n\t\t\t\t});  \r\n\t\t\t\tself.zoomContainer.bind('touchmove', function(e){ \r\n\t\t\t\t\tif(self.options.zoomType == \"inner\") {\r\n\t\t\t\t\t\tself.showHideWindow(\"show\");\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tvar touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];  \r\n\t\t\t\t\tself.setPosition(touch); \r\n\r\n\t\t\t\t});  \t\r\n\t\t\t\tself.zoomContainer.bind('touchend', function(e){ \r\n\t\t\t\t\tself.showHideWindow(\"hide\");\r\n\t\t\t\t\tif(self.options.showLens) {self.showHideLens(\"hide\");}\r\n\t\t\t\t\tif(self.options.tint && self.options.zoomType != \"inner\") {self.showHideTint(\"hide\");}\r\n\t\t\t\t});  \t\r\n\r\n\t\t\t\tself.$elem.bind('touchend', function(e){ \r\n\t\t\t\t\tself.showHideWindow(\"hide\");\r\n\t\t\t\t\tif(self.options.showLens) {self.showHideLens(\"hide\");}\r\n\t\t\t\t\tif(self.options.tint && self.options.zoomType != \"inner\") {self.showHideTint(\"hide\");}\r\n\t\t\t\t});  \t\r\n\t\t\t\tif(self.options.showLens) {\r\n\t\t\t\t\tself.zoomLens.bind('touchmove', function(e){ \r\n\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tvar touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];  \r\n\t\t\t\t\t\tself.setPosition(touch); \r\n\t\t\t\t\t});    \r\n\r\n\r\n\t\t\t\t\tself.zoomLens.bind('touchend', function(e){ \r\n\t\t\t\t\t\tself.showHideWindow(\"hide\");\r\n\t\t\t\t\t\tif(self.options.showLens) {self.showHideLens(\"hide\");}\r\n\t\t\t\t\t\tif(self.options.tint && self.options.zoomType != \"inner\") {self.showHideTint(\"hide\");}\r\n\t\t\t\t\t});  \r\n\t\t\t\t}\r\n\t\t\t\t//Needed to work in IE\r\n\t\t\t\tself.$elem.bind('mousemove', function(e){   \r\n\t\t\t\t\tif(self.overWindow == false){self.setElements(\"show\");}\r\n\t\t\t\t\t//make sure on orientation change the setposition is not fired\r\n\t\t\t\t\tif(self.lastX !== e.clientX || self.lastY !== e.clientY){\r\n\t\t\t\t\t\tself.setPosition(e);\r\n\t\t\t\t\t\tself.currentLoc = e;\r\n\t\t\t\t\t}   \r\n\t\t\t\t\tself.lastX = e.clientX;\r\n\t\t\t\t\tself.lastY = e.clientY;    \r\n\r\n\t\t\t\t});  \t\r\n\r\n\t\t\t\tself.zoomContainer.bind('mousemove', function(e){ \r\n\r\n\t\t\t\t\tif(self.overWindow == false){self.setElements(\"show\");} \r\n\r\n\t\t\t\t\t//make sure on orientation change the setposition is not fired \r\n\t\t\t\t\tif(self.lastX !== e.clientX || self.lastY !== e.clientY){\r\n\t\t\t\t\t\tself.setPosition(e);\r\n\t\t\t\t\t\tself.currentLoc = e;\r\n\t\t\t\t\t}   \r\n\t\t\t\t\tself.lastX = e.clientX;\r\n\t\t\t\t\tself.lastY = e.clientY;    \r\n\t\t\t\t});  \t\r\n\t\t\t\tif(self.options.zoomType != \"inner\") {\r\n\t\t\t\t\tself.zoomLens.bind('mousemove', function(e){      \r\n\t\t\t\t\t\t//make sure on orientation change the setposition is not fired\r\n\t\t\t\t\t\tif(self.lastX !== e.clientX || self.lastY !== e.clientY){\r\n\t\t\t\t\t\t\tself.setPosition(e);\r\n\t\t\t\t\t\t\tself.currentLoc = e;\r\n\t\t\t\t\t\t}   \r\n\t\t\t\t\t\tself.lastX = e.clientX;\r\n\t\t\t\t\t\tself.lastY = e.clientY;    \r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif(self.options.tint && self.options.zoomType != \"inner\") {\r\n\t\t\t\t\tself.zoomTint.bind('mousemove', function(e){ \r\n\t\t\t\t\t\t//make sure on orientation change the setposition is not fired\r\n\t\t\t\t\t\tif(self.lastX !== e.clientX || self.lastY !== e.clientY){\r\n\t\t\t\t\t\t\tself.setPosition(e);\r\n\t\t\t\t\t\t\tself.currentLoc = e;\r\n\t\t\t\t\t\t}   \r\n\t\t\t\t\t\tself.lastX = e.clientX;\r\n\t\t\t\t\t\tself.lastY = e.clientY;    \r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif(self.options.zoomType == \"inner\") {\r\n\t\t\t\t\tself.zoomWindow.bind('mousemove', function(e) {\r\n\t\t\t\t\t\t//self.overWindow = true;\r\n\t\t\t\t\t\t//make sure on orientation change the setposition is not fired\r\n\t\t\t\t\t\tif(self.lastX !== e.clientX || self.lastY !== e.clientY){\r\n\t\t\t\t\t\t\tself.setPosition(e);\r\n\t\t\t\t\t\t\tself.currentLoc = e;\r\n\t\t\t\t\t\t}   \r\n\t\t\t\t\t\tself.lastX = e.clientX;\r\n\t\t\t\t\t\tself.lastY = e.clientY;    \r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t//  lensFadeOut: 500,  zoomTintFadeIn\r\n\t\t\t\tself.zoomContainer.add(self.$elem).mouseenter(function(){\r\n\r\n\t\t\t\t\tif(self.overWindow == false){self.setElements(\"show\");} \r\n\r\n\r\n\t\t\t\t}).mouseleave(function(){\r\n\t\t\t\t\tif(!self.scrollLock){\r\n\t\t\t\t\t\tself.setElements(\"hide\");\r\n            self.options.onDestroy(self.$elem);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t//end ove image\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\tif(self.options.zoomType != \"inner\") {\r\n\t\t\t\t\tself.zoomWindow.mouseenter(function(){\r\n\t\t\t\t\t\tself.overWindow = true;   \r\n\t\t\t\t\t\tself.setElements(\"hide\");                  \r\n\t\t\t\t\t}).mouseleave(function(){\r\n\r\n\t\t\t\t\t\tself.overWindow = false;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t//end ove image\r\n\r\n\r\n\r\n//\t\t\t\tvar delta = parseInt(e.originalEvent.wheelDelta || -e.originalEvent.detail);\r\n\r\n\t\t\t\t//      $(this).empty();    \r\n\t\t\t\t//    return false;\r\n\r\n\t\t\t\t//fix for initial zoom setting\r\n\t\t\t\tif (self.options.zoomLevel != 1){\r\n\t\t\t\t\t//\tself.changeZoomLevel(self.currentZoomLevel);\r\n\t\t\t\t}\r\n\t\t\t\t//set the min zoomlevel\r\n\t\t\t\tif(self.options.minZoomLevel){\r\n\t\t\t\t\tself.minZoomLevel = self.options.minZoomLevel;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tself.minZoomLevel = self.options.scrollZoomIncrement * 2;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif(self.options.scrollZoom){\r\n\r\n\r\n\t\t\t\t\tself.zoomContainer.add(self.$elem).bind('mousewheel DOMMouseScroll MozMousePixelScroll', function(e){\r\n\r\n\r\n//\t\t\t\t\t\tin IE there is issue with firing of mouseleave - So check whether still scrolling\r\n//\t\t\t\t\t\tand on mouseleave check if scrolllock          \r\n\t\t\t\t\t\tself.scrollLock = true;\r\n\t\t\t\t\t\tclearTimeout($.data(this, 'timer'));\r\n\t\t\t\t\t\t$.data(this, 'timer', setTimeout(function() {\r\n\t\t\t\t\t\t\tself.scrollLock = false;\r\n\t\t\t\t\t\t\t//do something\r\n\t\t\t\t\t\t}, 250));\r\n\r\n\t\t\t\t\t\tvar theEvent = e.originalEvent.wheelDelta || e.originalEvent.detail*-1\r\n\r\n\r\n\t\t\t\t\t\t//this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;\r\n\t\t\t\t\t\t//   e.preventDefault();\r\n\r\n\r\n\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\te.preventDefault();\r\n\r\n\r\n\t\t\t\t\t\tif(theEvent /120 > 0) {\r\n\t\t\t\t\t\t\t//scrolling up\r\n\t\t\t\t\t\t\tif(self.currentZoomLevel >= self.minZoomLevel){ \r\n\t\t\t\t\t\t\t\tself.changeZoomLevel(self.currentZoomLevel-self.options.scrollZoomIncrement);        \r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t//scrolling down\r\n\r\n\r\n\t\t\t\t\t\t\tif(self.options.maxZoomLevel){\r\n\t\t\t\t\t\t\t\tif(self.currentZoomLevel <= self.options.maxZoomLevel){           \r\n\t\t\t\t\t\t\t\t\tself.changeZoomLevel(parseFloat(self.currentZoomLevel)+self.options.scrollZoomIncrement);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\t//andy \r\n\r\n\t\t\t\t\t\t\t\tself.changeZoomLevel(parseFloat(self.currentZoomLevel)+self.options.scrollZoomIncrement);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t},\r\n\t\t\tsetElements: function(type) {\r\n\t\t\t\tvar self = this;\r\n        if(!self.options.zoomEnabled){return false;}\r\n\t\t\t\tif(type==\"show\"){\r\n\t\t\t\t\tif(self.isWindowSet){\r\n\t\t\t\t\t\tif(self.options.zoomType == \"inner\") {self.showHideWindow(\"show\");}\r\n\t\t\t\t\t\tif(self.options.zoomType == \"window\") {self.showHideWindow(\"show\");}\r\n\t\t\t\t\t\tif(self.options.showLens) {self.showHideLens(\"show\");}\r\n\t\t\t\t\t\tif(self.options.tint && self.options.zoomType != \"inner\") {self.showHideTint(\"show\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(type==\"hide\"){\r\n\t\t\t\t\tif(self.options.zoomType == \"window\") {self.showHideWindow(\"hide\");}\r\n\t\t\t\t\tif(!self.options.tint) {self.showHideWindow(\"hide\");}\r\n\t\t\t\t\tif(self.options.showLens) {self.showHideLens(\"hide\");}\r\n\t\t\t\t\tif(self.options.tint) {\tself.showHideTint(\"hide\");}\r\n\t\t\t\t}   \r\n\t\t\t},\r\n\t\t\tsetPosition: function(e) {\r\n      \r\n\t\t\t\tvar self = this;\r\n        \r\n        if(!self.options.zoomEnabled){return false;}\r\n\r\n\t\t\t\t//recaclc offset each time in case the image moves\r\n\t\t\t\t//this can be caused by other on page elements\r\n\t\t\t\tself.nzHeight = self.$elem.height();\r\n\t\t\t\tself.nzWidth = self.$elem.width();\r\n\t\t\t\tself.nzOffset = self.$elem.offset();\r\n\r\n\t\t\t\tif(self.options.tint && self.options.zoomType != \"inner\") {\r\n\t\t\t\t\tself.zoomTint.css({ top: 0});\r\n\t\t\t\t\tself.zoomTint.css({ left: 0});\r\n\t\t\t\t}\r\n\t\t\t\t//set responsive       \r\n\t\t\t\t//will checking if the image needs changing before running this code work faster?\r\n\t\t\t\tif(self.options.responsive && !self.options.scrollZoom){\r\n\t\t\t\t\tif(self.options.showLens){ \r\n\t\t\t\t\t\tif(self.nzHeight < self.options.zoomWindowWidth/self.widthRatio){\r\n\t\t\t\t\t\t\tlensHeight = self.nzHeight;              \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tlensHeight = String((self.options.zoomWindowHeight/self.heightRatio))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(self.largeWidth < self.options.zoomWindowWidth){\r\n\t\t\t\t\t\t\tlensWidth = self.nzWidth;\r\n\t\t\t\t\t\t}       \r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tlensWidth =  (self.options.zoomWindowWidth/self.widthRatio);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.widthRatio = self.largeWidth / self.nzWidth;\r\n\t\t\t\t\t\tself.heightRatio = self.largeHeight / self.nzHeight;        \r\n\t\t\t\t\t\tif(self.options.zoomType != \"lens\") {\r\n\r\n\r\n\t\t\t\t\t\t\t//possibly dont need to keep recalcalculating\r\n\t\t\t\t\t\t\t//if the lens is heigher than the image, then set lens size to image size\r\n\t\t\t\t\t\t\tif(self.nzHeight < self.options.zoomWindowWidth/self.widthRatio){\r\n\t\t\t\t\t\t\t\tlensHeight = self.nzHeight;  \r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\tlensHeight = String((self.options.zoomWindowHeight/self.heightRatio))\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif(self.nzWidth < self.options.zoomWindowHeight/self.heightRatio){\r\n\t\t\t\t\t\t\t\tlensWidth = self.nzWidth;\r\n\t\t\t\t\t\t\t}       \r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\tlensWidth =  String((self.options.zoomWindowWidth/self.widthRatio));\r\n\t\t\t\t\t\t\t}            \r\n\r\n\t\t\t\t\t\t\tself.zoomLens.css('width', lensWidth);    \r\n\t\t\t\t\t\t\tself.zoomLens.css('height', lensHeight); \r\n\r\n\t\t\t\t\t\t\tif(self.options.tint){    \r\n\t\t\t\t\t\t\t\tself.zoomTintImage.css('width', self.nzWidth);    \r\n\t\t\t\t\t\t\t\tself.zoomTintImage.css('height', self.nzHeight); \r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}                     \r\n\t\t\t\t\t\tif(self.options.zoomType == \"lens\") {  \r\n\r\n\t\t\t\t\t\t\tself.zoomLens.css({ width: String(self.options.lensSize) + 'px', height: String(self.options.lensSize) + 'px' })      \r\n\r\n\r\n\t\t\t\t\t\t}        \r\n\t\t\t\t\t\t//end responsive image change\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//container fix\r\n\t\t\t\tself.zoomContainer.css({ top: self.nzOffset.top});\r\n\t\t\t\tself.zoomContainer.css({ left: self.nzOffset.left});\r\n\t\t\t\tself.mouseLeft = parseInt(e.pageX - self.nzOffset.left);\r\n\t\t\t\tself.mouseTop = parseInt(e.pageY - self.nzOffset.top);\r\n\t\t\t\t//calculate the Location of the Lens\r\n\r\n\t\t\t\t//calculate the bound regions - but only if zoom window\r\n\t\t\t\tif(self.options.zoomType == \"window\") {\r\n\t\t\t\t\tself.Etoppos = (self.mouseTop < (self.zoomLens.height()/2));\r\n\t\t\t\t\tself.Eboppos = (self.mouseTop > self.nzHeight - (self.zoomLens.height()/2)-(self.options.lensBorderSize*2));\r\n\t\t\t\t\tself.Eloppos = (self.mouseLeft < 0+((self.zoomLens.width()/2))); \r\n\t\t\t\t\tself.Eroppos = (self.mouseLeft > (self.nzWidth - (self.zoomLens.width()/2)-(self.options.lensBorderSize*2)));  \r\n\t\t\t\t}\r\n\t\t\t\t//calculate the bound regions - but only for inner zoom\r\n\t\t\t\tif(self.options.zoomType == \"inner\"){ \r\n\t\t\t\t\tself.Etoppos = (self.mouseTop < ((self.nzHeight/2)/self.heightRatio) );\r\n\t\t\t\t\tself.Eboppos = (self.mouseTop > (self.nzHeight - ((self.nzHeight/2)/self.heightRatio)));\r\n\t\t\t\t\tself.Eloppos = (self.mouseLeft < 0+(((self.nzWidth/2)/self.widthRatio)));\r\n\t\t\t\t\tself.Eroppos = (self.mouseLeft > (self.nzWidth - (self.nzWidth/2)/self.widthRatio-(self.options.lensBorderSize*2)));  \r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if the mouse position of the slider is one of the outerbounds, then hide  window and lens\r\n\t\t\t\tif (self.mouseLeft < 0 || self.mouseTop < 0 || self.mouseLeft > self.nzWidth || self.mouseTop > self.nzHeight ) {\t\t\t\t          \r\n\t\t\t\t\tself.setElements(\"hide\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//else continue with operations\r\n\t\t\t\telse {\r\n\r\n\r\n\t\t\t\t\t//lens options\r\n\t\t\t\t\tif(self.options.showLens) {\r\n\t\t\t\t\t\t//\t\tself.showHideLens(\"show\");\r\n\t\t\t\t\t\t//set background position of lens\r\n\t\t\t\t\t\tself.lensLeftPos = String(Math.floor(self.mouseLeft - self.zoomLens.width() / 2));\r\n\t\t\t\t\t\tself.lensTopPos = String(Math.floor(self.mouseTop - self.zoomLens.height() / 2));\r\n\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//adjust the background position if the mouse is in one of the outer regions \r\n\r\n\t\t\t\t\t//Top region\r\n\t\t\t\t\tif(self.Etoppos){\r\n\t\t\t\t\t\tself.lensTopPos = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//Left Region\r\n\t\t\t\t\tif(self.Eloppos){\r\n\t\t\t\t\t\tself.windowLeftPos = 0;\r\n\t\t\t\t\t\tself.lensLeftPos = 0;\r\n\t\t\t\t\t\tself.tintpos=0;\r\n\t\t\t\t\t}     \r\n\t\t\t\t\t//Set bottom and right region for window mode\r\n\t\t\t\t\tif(self.options.zoomType == \"window\") {\r\n\t\t\t\t\t\tif(self.Eboppos){\r\n\t\t\t\t\t\t\tself.lensTopPos = Math.max( (self.nzHeight)-self.zoomLens.height()-(self.options.lensBorderSize*2), 0 );\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tif(self.Eroppos){\r\n\t\t\t\t\t\t\tself.lensLeftPos = (self.nzWidth-(self.zoomLens.width())-(self.options.lensBorderSize*2));\r\n\t\t\t\t\t\t}  \r\n\t\t\t\t\t}  \r\n\t\t\t\t\t//Set bottom and right region for inner mode\r\n\t\t\t\t\tif(self.options.zoomType == \"inner\") {\r\n\t\t\t\t\t\tif(self.Eboppos){\r\n\t\t\t\t\t\t\tself.lensTopPos = Math.max( ((self.nzHeight)-(self.options.lensBorderSize*2)), 0 );\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tif(self.Eroppos){\r\n\t\t\t\t\t\t\tself.lensLeftPos = (self.nzWidth-(self.nzWidth)-(self.options.lensBorderSize*2));\r\n\t\t\t\t\t\t}  \r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//if lens zoom\r\n\t\t\t\t\tif(self.options.zoomType == \"lens\") {  \r\n\t\t\t\t\t\tself.windowLeftPos = String(((e.pageX - self.nzOffset.left) * self.widthRatio - self.zoomLens.width() / 2) * (-1));   \r\n\t\t\t\t\t\tself.windowTopPos = String(((e.pageY - self.nzOffset.top) * self.heightRatio - self.zoomLens.height() / 2) * (-1));\r\n\r\n\t\t\t\t\t\tself.zoomLens.css({ backgroundPosition: self.windowLeftPos + 'px ' + self.windowTopPos + 'px' });\r\n\r\n\t\t\t\t\t\tif(self.changeBgSize){  \r\n\r\n\t\t\t\t\t\t\tif(self.nzHeight>self.nzWidth){  \r\n\t\t\t\t\t\t\t\tif(self.options.zoomType == \"lens\"){       \r\n\t\t\t\t\t\t\t\t\tself.zoomLens.css({ \"background-size\": self.largeWidth/self.newvalueheight + 'px ' + self.largeHeight/self.newvalueheight + 'px' });\r\n\t\t\t\t\t\t\t\t}   \r\n\r\n\t\t\t\t\t\t\t\tself.zoomWindow.css({ \"background-size\": self.largeWidth/self.newvalueheight + 'px ' + self.largeHeight/self.newvalueheight + 'px' });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{     \r\n\t\t\t\t\t\t\t\tif(self.options.zoomType == \"lens\"){       \r\n\t\t\t\t\t\t\t\t\tself.zoomLens.css({ \"background-size\": self.largeWidth/self.newvaluewidth + 'px ' + self.largeHeight/self.newvaluewidth + 'px' });\r\n\t\t\t\t\t\t\t\t}   \r\n\t\t\t\t\t\t\t\tself.zoomWindow.css({ \"background-size\": self.largeWidth/self.newvaluewidth + 'px ' + self.largeHeight/self.newvaluewidth + 'px' });            \r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tself.changeBgSize = false;\r\n\t\t\t\t\t\t}    \r\n\r\n\t\t\t\t\t\tself.setWindowPostition(e);  \r\n\t\t\t\t\t}\r\n\t\t\t\t\t//if tint zoom   \r\n\t\t\t\t\tif(self.options.tint && self.options.zoomType != \"inner\") {\r\n\t\t\t\t\t\tself.setTintPosition(e);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//set the css background position \r\n\t\t\t\t\tif(self.options.zoomType == \"window\") {\r\n\t\t\t\t\t\tself.setWindowPostition(e);   \r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(self.options.zoomType == \"inner\") {\r\n\t\t\t\t\t\tself.setWindowPostition(e);   \r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(self.options.showLens) {\r\n\r\n\t\t\t\t\t\tif(self.fullwidth && self.options.zoomType != \"lens\"){\r\n\t\t\t\t\t\t\tself.lensLeftPos = 0;\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.zoomLens.css({ left: self.lensLeftPos + 'px', top: self.lensTopPos + 'px' })  \r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} //end else\r\n\r\n\r\n\r\n\t\t\t},\r\n\t\t\tshowHideWindow: function(change) {\r\n\t\t\t\tvar self = this;              \r\n\t\t\t\tif(change == \"show\"){      \r\n\t\t\t\t\tif(!self.isWindowActive){\r\n\t\t\t\t\t\tif(self.options.zoomWindowFadeIn){\r\n\t\t\t\t\t\t\tself.zoomWindow.stop(true, true, false).fadeIn(self.options.zoomWindowFadeIn);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{self.zoomWindow.show();}\r\n\t\t\t\t\t\tself.isWindowActive = true;\r\n\t\t\t\t\t}            \r\n\t\t\t\t}\r\n\t\t\t\tif(change == \"hide\"){\r\n\t\t\t\t\tif(self.isWindowActive){\r\n\t\t\t\t\t\tif(self.options.zoomWindowFadeOut){\r\n\t\t\t\t\t\t\tself.zoomWindow.stop(true, true).fadeOut(self.options.zoomWindowFadeOut, function () {\r\n\t\t\t\t\t\t\t\tif (self.loop) {\r\n\t\t\t\t\t\t\t\t\t//stop moving the zoom window when zoom window is faded out\r\n\t\t\t\t\t\t\t\t\tclearInterval(self.loop);\r\n\t\t\t\t\t\t\t\t\tself.loop = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{self.zoomWindow.hide();}\r\n\t\t\t\t\t\tself.isWindowActive = false;        \r\n\t\t\t\t\t}      \r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tshowHideLens: function(change) {\r\n\t\t\t\tvar self = this;              \r\n\t\t\t\tif(change == \"show\"){      \r\n\t\t\t\t\tif(!self.isLensActive){\r\n\t\t\t\t\t\tif(self.options.lensFadeIn){\r\n\t\t\t\t\t\t\tself.zoomLens.stop(true, true, false).fadeIn(self.options.lensFadeIn);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{self.zoomLens.show();}\r\n\t\t\t\t\t\tself.isLensActive = true;\r\n\t\t\t\t\t}            \r\n\t\t\t\t}\r\n\t\t\t\tif(change == \"hide\"){\r\n\t\t\t\t\tif(self.isLensActive){\r\n\t\t\t\t\t\tif(self.options.lensFadeOut){\r\n\t\t\t\t\t\t\tself.zoomLens.stop(true, true).fadeOut(self.options.lensFadeOut);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{self.zoomLens.hide();}\r\n\t\t\t\t\t\tself.isLensActive = false;        \r\n\t\t\t\t\t}      \r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tshowHideTint: function(change) {\r\n\t\t\t\tvar self = this;              \r\n\t\t\t\tif(change == \"show\"){      \r\n\t\t\t\t\tif(!self.isTintActive){\r\n\r\n\t\t\t\t\t\tif(self.options.zoomTintFadeIn){\r\n\t\t\t\t\t\t\tself.zoomTint.css({opacity:self.options.tintOpacity}).animate().stop(true, true).fadeIn(\"slow\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tself.zoomTint.css({opacity:self.options.tintOpacity}).animate();\r\n\t\t\t\t\t\t\tself.zoomTint.show();\r\n\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.isTintActive = true;\r\n\t\t\t\t\t}            \r\n\t\t\t\t}\r\n\t\t\t\tif(change == \"hide\"){      \r\n\t\t\t\t\tif(self.isTintActive){ \r\n\r\n\t\t\t\t\t\tif(self.options.zoomTintFadeOut){\r\n\t\t\t\t\t\t\tself.zoomTint.stop(true, true).fadeOut(self.options.zoomTintFadeOut);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{self.zoomTint.hide();}\r\n\t\t\t\t\t\tself.isTintActive = false;        \r\n\t\t\t\t\t}      \r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsetLensPostition: function( e ) {\r\n\r\n\r\n\t\t\t},\r\n\t\t\tsetWindowPostition: function( e ) {\r\n\t\t\t\t//return obj.slice( 0, count );\r\n\t\t\t\tvar self = this;\r\n\r\n\t\t\t\tif(!isNaN(self.options.zoomWindowPosition)){\r\n\r\n\t\t\t\t\tswitch (self.options.zoomWindowPosition) { \r\n\t\t\t\t\tcase 1: //done         \r\n\t\t\t\t\t\tself.windowOffsetTop = (self.options.zoomWindowOffety);//DONE - 1\r\n\t\t\t\t\t\tself.windowOffsetLeft =(+self.nzWidth); //DONE 1, 2, 3, 4, 16\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tif(self.options.zoomWindowHeight > self.nzHeight){ //positive margin\r\n\r\n\t\t\t\t\t\t\tself.windowOffsetTop = ((self.options.zoomWindowHeight/2)-(self.nzHeight/2))*(-1);\r\n\t\t\t\t\t\t\tself.windowOffsetLeft =(self.nzWidth); //DONE 1, 2, 3, 4, 16\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{ //negative margin\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3: //done        \r\n\t\t\t\t\t\tself.windowOffsetTop = (self.nzHeight - self.zoomWindow.height() - (self.options.borderSize*2)); //DONE 3,9\r\n\t\t\t\t\t\tself.windowOffsetLeft =(self.nzWidth); //DONE 1, 2, 3, 4, 16\r\n\t\t\t\t\t\tbreak;      \r\n\t\t\t\t\tcase 4: //done  \r\n\t\t\t\t\t\tself.windowOffsetTop = (self.nzHeight); //DONE - 4,5,6,7,8\r\n\t\t\t\t\t\tself.windowOffsetLeft =(self.nzWidth); //DONE 1, 2, 3, 4, 16\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 5: //done  \r\n\t\t\t\t\t\tself.windowOffsetTop = (self.nzHeight); //DONE - 4,5,6,7,8\r\n\t\t\t\t\t\tself.windowOffsetLeft =(self.nzWidth-self.zoomWindow.width()-(self.options.borderSize*2)); //DONE - 5,15\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 6: \r\n\t\t\t\t\t\tif(self.options.zoomWindowHeight > self.nzHeight){ //positive margin\r\n\t\t\t\t\t\t\tself.windowOffsetTop = (self.nzHeight);  //DONE - 4,5,6,7,8\r\n\r\n\t\t\t\t\t\t\tself.windowOffsetLeft =((self.options.zoomWindowWidth/2)-(self.nzWidth/2)+(self.options.borderSize*2))*(-1);  \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{ //negative margin\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 7: //done  \r\n\t\t\t\t\t\tself.windowOffsetTop = (self.nzHeight);  //DONE - 4,5,6,7,8\r\n\t\t\t\t\t\tself.windowOffsetLeft = 0; //DONE 7, 13\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 8: //done  \r\n\t\t\t\t\t\tself.windowOffsetTop = (self.nzHeight); //DONE - 4,5,6,7,8\r\n\t\t\t\t\t\tself.windowOffsetLeft =(self.zoomWindow.width()+(self.options.borderSize*2) )* (-1);  //DONE 8,9,10,11,12\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 9:  //done  \r\n\t\t\t\t\t\tself.windowOffsetTop = (self.nzHeight - self.zoomWindow.height() - (self.options.borderSize*2)); //DONE 3,9\r\n\t\t\t\t\t\tself.windowOffsetLeft =(self.zoomWindow.width()+(self.options.borderSize*2) )* (-1);  //DONE 8,9,10,11,12\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 10: \r\n\t\t\t\t\t\tif(self.options.zoomWindowHeight > self.nzHeight){ //positive margin\r\n\r\n\t\t\t\t\t\t\tself.windowOffsetTop = ((self.options.zoomWindowHeight/2)-(self.nzHeight/2))*(-1);\r\n\t\t\t\t\t\t\tself.windowOffsetLeft =(self.zoomWindow.width()+(self.options.borderSize*2) )* (-1);  //DONE 8,9,10,11,12\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{ //negative margin\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 11: \r\n\t\t\t\t\t\tself.windowOffsetTop = (self.options.zoomWindowOffety);\r\n\t\t\t\t\t\tself.windowOffsetLeft =(self.zoomWindow.width()+(self.options.borderSize*2) )* (-1);  //DONE 8,9,10,11,12\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 12: //done  \r\n\t\t\t\t\t\tself.windowOffsetTop = (self.zoomWindow.height()+(self.options.borderSize*2))*(-1); //DONE 12,13,14,15,16\r\n\t\t\t\t\t\tself.windowOffsetLeft =(self.zoomWindow.width()+(self.options.borderSize*2) )* (-1);  //DONE 8,9,10,11,12\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 13: //done  \r\n\t\t\t\t\t\tself.windowOffsetTop = (self.zoomWindow.height()+(self.options.borderSize*2))*(-1); //DONE 12,13,14,15,16\r\n\t\t\t\t\t\tself.windowOffsetLeft =(0); //DONE 7, 13\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 14: \r\n\t\t\t\t\t\tif(self.options.zoomWindowHeight > self.nzHeight){ //positive margin\r\n\t\t\t\t\t\t\tself.windowOffsetTop = (self.zoomWindow.height()+(self.options.borderSize*2))*(-1); //DONE 12,13,14,15,16\r\n\r\n\t\t\t\t\t\t\tself.windowOffsetLeft =((self.options.zoomWindowWidth/2)-(self.nzWidth/2)+(self.options.borderSize*2))*(-1);  \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{ //negative margin\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 15://done   \r\n\t\t\t\t\t\tself.windowOffsetTop = (self.zoomWindow.height()+(self.options.borderSize*2))*(-1); //DONE 12,13,14,15,16\r\n\t\t\t\t\t\tself.windowOffsetLeft =(self.nzWidth-self.zoomWindow.width()-(self.options.borderSize*2)); //DONE - 5,15\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 16:  //done  \r\n\t\t\t\t\t\tself.windowOffsetTop = (self.zoomWindow.height()+(self.options.borderSize*2))*(-1); //DONE 12,13,14,15,16\r\n\t\t\t\t\t\tself.windowOffsetLeft =(self.nzWidth); //DONE 1, 2, 3, 4, 16\r\n\t\t\t\t\t\tbreak;            \r\n\t\t\t\t\tdefault: //done  \r\n\t\t\t\t\t\tself.windowOffsetTop = (self.options.zoomWindowOffety);//DONE - 1\r\n\t\t\t\t\tself.windowOffsetLeft =(self.nzWidth); //DONE 1, 2, 3, 4, 16\r\n\t\t\t\t\t} \r\n\t\t\t\t} //end isNAN\r\n\t\t\t\telse{\r\n\t\t\t\t\t//WE CAN POSITION IN A CLASS - ASSUME THAT ANY STRING PASSED IS\r\n\t\t\t\t\tself.externalContainer = $('#'+self.options.zoomWindowPosition);\r\n\t\t\t\t\tself.externalContainerWidth = self.externalContainer.width();\r\n\t\t\t\t\tself.externalContainerHeight = self.externalContainer.height();\r\n\t\t\t\t\tself.externalContainerOffset = self.externalContainer.offset();\r\n\r\n\t\t\t\t\tself.windowOffsetTop = self.externalContainerOffset.top;//DONE - 1\r\n\t\t\t\t\tself.windowOffsetLeft =self.externalContainerOffset.left; //DONE 1, 2, 3, 4, 16\r\n\r\n\t\t\t\t}\r\n\t\t\t\tself.isWindowSet = true;\r\n\t\t\t\tself.windowOffsetTop = self.windowOffsetTop + self.options.zoomWindowOffety;\r\n\t\t\t\tself.windowOffsetLeft = self.windowOffsetLeft + self.options.zoomWindowOffetx;\r\n\r\n\t\t\t\tself.zoomWindow.css({ top: self.windowOffsetTop});\r\n\t\t\t\tself.zoomWindow.css({ left: self.windowOffsetLeft});\r\n\r\n\t\t\t\tif(self.options.zoomType == \"inner\") {\r\n\t\t\t\t\tself.zoomWindow.css({ top: 0});\r\n\t\t\t\t\tself.zoomWindow.css({ left: 0});\r\n\r\n\t\t\t\t}   \r\n\r\n\r\n\t\t\t\tself.windowLeftPos = String(((e.pageX - self.nzOffset.left) * self.widthRatio - self.zoomWindow.width() / 2) * (-1));   \r\n\t\t\t\tself.windowTopPos = String(((e.pageY - self.nzOffset.top) * self.heightRatio - self.zoomWindow.height() / 2) * (-1));\r\n\t\t\t\tif(self.Etoppos){self.windowTopPos = 0;}\r\n\t\t\t\tif(self.Eloppos){self.windowLeftPos = 0;}     \r\n\t\t\t\tif(self.Eboppos){self.windowTopPos = (self.largeHeight/self.currentZoomLevel-self.zoomWindow.height())*(-1);  } \r\n\t\t\t\tif(self.Eroppos){self.windowLeftPos = ((self.largeWidth/self.currentZoomLevel-self.zoomWindow.width())*(-1));}    \r\n\r\n\t\t\t\t//stops micro movements\r\n\t\t\t\tif(self.fullheight){\r\n\t\t\t\t\tself.windowTopPos = 0;\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif(self.fullwidth){\r\n\t\t\t\t\tself.windowLeftPos = 0;\r\n\r\n\t\t\t\t}\r\n\t\t\t\t//set the css background position \r\n\r\n\r\n\t\t\t\tif(self.options.zoomType == \"window\" || self.options.zoomType == \"inner\") {\r\n\r\n\t\t\t\t\tif(self.zoomLock == 1){\r\n\t\t\t\t\t\t//overrides for images not zoomable\r\n\t\t\t\t\t\tif(self.widthRatio <= 1){\r\n\r\n\t\t\t\t\t\t\tself.windowLeftPos = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(self.heightRatio <= 1){ \r\n\t\t\t\t\t\t\tself.windowTopPos = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// adjust images less than the window height\r\n\r\n\t\t\t\t\tif (self.options.zoomType == \"window\") {\r\n\t\t\t\t\t\tif (self.largeHeight < self.options.zoomWindowHeight) {\r\n\r\n\t\t\t\t\t\t\tself.windowTopPos = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (self.largeWidth < self.options.zoomWindowWidth) {\r\n\t\t\t\t\t\t\tself.windowLeftPos = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//set the zoomwindow background position\r\n\t\t\t\t\tif (self.options.easing){\r\n\r\n\t\t\t\t\t\t//     if(self.changeZoom){\r\n\t\t\t\t\t\t//           clearInterval(self.loop);\r\n\t\t\t\t\t\t//           self.changeZoom = false;\r\n\t\t\t\t\t\t//           self.loop = false;\r\n\r\n\t\t\t\t\t\t//            }\r\n\t\t\t\t\t\t//set the pos to 0 if not set\r\n\t\t\t\t\t\tif(!self.xp){self.xp = 0;}\r\n\t\t\t\t\t\tif(!self.yp){self.yp = 0;}  \r\n\t\t\t\t\t\t//if loop not already started, then run it \r\n\t\t\t\t\t\tif (!self.loop){           \r\n\t\t\t\t\t\t\tself.loop = setInterval(function(){                \r\n\t\t\t\t\t\t\t\t//using zeno's paradox    \r\n\r\n\t\t\t\t\t\t\t\tself.xp += (self.windowLeftPos  - self.xp) / self.options.easingAmount; \r\n\t\t\t\t\t\t\t\tself.yp += (self.windowTopPos  - self.yp) / self.options.easingAmount;\r\n\t\t\t\t\t\t\t\tif(self.scrollingLock){\r\n\r\n\r\n\t\t\t\t\t\t\t\t\tclearInterval(self.loop);\r\n\t\t\t\t\t\t\t\t\tself.xp = self.windowLeftPos;\r\n\t\t\t\t\t\t\t\t\tself.yp = self.windowTopPos            \r\n\r\n\t\t\t\t\t\t\t\t\tself.xp = ((e.pageX - self.nzOffset.left) * self.widthRatio - self.zoomWindow.width() / 2) * (-1);\r\n\t\t\t\t\t\t\t\t\tself.yp = (((e.pageY - self.nzOffset.top) * self.heightRatio - self.zoomWindow.height() / 2) * (-1));                         \r\n\r\n\t\t\t\t\t\t\t\t\tif(self.changeBgSize){    \r\n\t\t\t\t\t\t\t\t\t\tif(self.nzHeight>self.nzWidth){  \r\n\t\t\t\t\t\t\t\t\t\t\tif(self.options.zoomType == \"lens\"){      \r\n\t\t\t\t\t\t\t\t\t\t\t\tself.zoomLens.css({ \"background-size\": self.largeWidth/self.newvalueheight + 'px ' + self.largeHeight/self.newvalueheight + 'px' });\r\n\t\t\t\t\t\t\t\t\t\t\t}   \r\n\t\t\t\t\t\t\t\t\t\t\tself.zoomWindow.css({ \"background-size\": self.largeWidth/self.newvalueheight + 'px ' + self.largeHeight/self.newvalueheight + 'px' });\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\telse{   \r\n\t\t\t\t\t\t\t\t\t\t\tif(self.options.zoomType != \"lens\"){      \r\n\t\t\t\t\t\t\t\t\t\t\t\tself.zoomLens.css({ \"background-size\": self.largeWidth/self.newvaluewidth + 'px ' + self.largeHeight/self.newvalueheight + 'px' });\r\n\t\t\t\t\t\t\t\t\t\t\t}            \r\n\t\t\t\t\t\t\t\t\t\t\tself.zoomWindow.css({ \"background-size\": self.largeWidth/self.newvaluewidth + 'px ' + self.largeHeight/self.newvaluewidth + 'px' });            \r\n\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t/*\r\n             if(!self.bgxp){self.bgxp = self.largeWidth/self.newvalue;}\r\n\t\t\t\t\t\tif(!self.bgyp){self.bgyp = self.largeHeight/self.newvalue ;}  \r\n                 if (!self.bgloop){   \r\n                 \tself.bgloop = setInterval(function(){   \r\n\r\n                 self.bgxp += (self.largeWidth/self.newvalue  - self.bgxp) / self.options.easingAmount; \r\n\t\t\t\t\t\t\t\tself.bgyp += (self.largeHeight/self.newvalue  - self.bgyp) / self.options.easingAmount;\r\n\r\n           self.zoomWindow.css({ \"background-size\": self.bgxp + 'px ' + self.bgyp + 'px' });\r\n\r\n\r\n                  }, 16);\r\n\r\n                 }\r\n\t\t\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\t\t\tself.changeBgSize = false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tself.zoomWindow.css({ backgroundPosition: self.windowLeftPos + 'px ' + self.windowTopPos + 'px' });\r\n\t\t\t\t\t\t\t\t\tself.scrollingLock = false;\r\n\t\t\t\t\t\t\t\t\tself.loop = false;\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if (Math.round(Math.abs(self.xp - self.windowLeftPos) + Math.abs(self.yp - self.windowTopPos)) < 1) {\r\n\t\t\t\t\t\t\t\t\t//stops micro movements\r\n\t\t\t\t\t\t\t\t\tclearInterval(self.loop);\r\n\t\t\t\t\t\t\t\t\tself.zoomWindow.css({ backgroundPosition: self.windowLeftPos + 'px ' + self.windowTopPos + 'px' });\r\n\t\t\t\t\t\t\t\t\tself.loop = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\t\tif(self.changeBgSize){    \r\n\t\t\t\t\t\t\t\t\t\tif(self.nzHeight>self.nzWidth){ \r\n\t\t\t\t\t\t\t\t\t\t\tif(self.options.zoomType == \"lens\"){      \r\n\t\t\t\t\t\t\t\t\t\t\t\tself.zoomLens.css({ \"background-size\": self.largeWidth/self.newvalueheight + 'px ' + self.largeHeight/self.newvalueheight + 'px' });\r\n\t\t\t\t\t\t\t\t\t\t\t}         \r\n\t\t\t\t\t\t\t\t\t\t\tself.zoomWindow.css({ \"background-size\": self.largeWidth/self.newvalueheight + 'px ' + self.largeHeight/self.newvalueheight + 'px' });\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\telse{                 \r\n\t\t\t\t\t\t\t\t\t\t\tif(self.options.zoomType != \"lens\"){     \r\n\t\t\t\t\t\t\t\t\t\t\t\tself.zoomLens.css({ \"background-size\": self.largeWidth/self.newvaluewidth + 'px ' + self.largeHeight/self.newvaluewidth + 'px' });\r\n\t\t\t\t\t\t\t\t\t\t\t}      \r\n\t\t\t\t\t\t\t\t\t\t\tself.zoomWindow.css({ \"background-size\": self.largeWidth/self.newvaluewidth + 'px ' + self.largeHeight/self.newvaluewidth + 'px' });            \r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tself.changeBgSize = false;\r\n\t\t\t\t\t\t\t\t\t}                   \r\n\r\n\t\t\t\t\t\t\t\t\tself.zoomWindow.css({ backgroundPosition: self.xp + 'px ' + self.yp + 'px' });\r\n\t\t\t\t\t\t\t\t}       \r\n\t\t\t\t\t\t\t}, 16);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}   \r\n\t\t\t\t\telse{    \r\n\t\t\t\t\t\tif(self.changeBgSize){  \r\n\t\t\t\t\t\t\tif(self.nzHeight>self.nzWidth){  \r\n\t\t\t\t\t\t\t\tif(self.options.zoomType == \"lens\"){      \r\n\t\t\t\t\t\t\t\t\tself.zoomLens.css({ \"background-size\": self.largeWidth/self.newvalueheight + 'px ' + self.largeHeight/self.newvalueheight + 'px' });\r\n\t\t\t\t\t\t\t\t} \r\n\r\n\t\t\t\t\t\t\t\tself.zoomWindow.css({ \"background-size\": self.largeWidth/self.newvalueheight + 'px ' + self.largeHeight/self.newvalueheight + 'px' });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{     \r\n\t\t\t\t\t\t\t\tif(self.options.zoomType == \"lens\"){      \r\n\t\t\t\t\t\t\t\t\tself.zoomLens.css({ \"background-size\": self.largeWidth/self.newvaluewidth + 'px ' + self.largeHeight/self.newvaluewidth + 'px' });\r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\tif((self.largeHeight/self.newvaluewidth) < self.options.zoomWindowHeight){ \r\n\r\n\t\t\t\t\t\t\t\t\tself.zoomWindow.css({ \"background-size\": self.largeWidth/self.newvaluewidth + 'px ' + self.largeHeight/self.newvaluewidth + 'px' });            \r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse{\r\n\r\n\t\t\t\t\t\t\t\t\tself.zoomWindow.css({ \"background-size\": self.largeWidth/self.newvalueheight + 'px ' + self.largeHeight/self.newvalueheight + 'px' });   \r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tself.changeBgSize = false;\r\n\t\t\t\t\t\t}     \r\n\r\n\t\t\t\t\t\tself.zoomWindow.css({ backgroundPosition: self.windowLeftPos + 'px ' + self.windowTopPos + 'px' });       \r\n\t\t\t\t\t}\r\n\t\t\t\t} \r\n\t\t\t},\r\n\t\t\tsetTintPosition: function(e){\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tself.nzOffset = self.$elem.offset();\r\n\t\t\t\tself.tintpos = String(((e.pageX - self.nzOffset.left)-(self.zoomLens.width() / 2)) * (-1)); \r\n\t\t\t\tself.tintposy = String(((e.pageY - self.nzOffset.top) - self.zoomLens.height() / 2) * (-1));\t\r\n\t\t\t\tif(self.Etoppos){\r\n\t\t\t\t\tself.tintposy = 0;\r\n\t\t\t\t}\r\n\t\t\t\tif(self.Eloppos){\r\n\t\t\t\t\tself.tintpos=0;\r\n\t\t\t\t}     \r\n\t\t\t\tif(self.Eboppos){\r\n\t\t\t\t\tself.tintposy = (self.nzHeight-self.zoomLens.height()-(self.options.lensBorderSize*2))*(-1);\r\n\t\t\t\t} \r\n\t\t\t\tif(self.Eroppos){\r\n\t\t\t\t\tself.tintpos = ((self.nzWidth-self.zoomLens.width()-(self.options.lensBorderSize*2))*(-1));\r\n\t\t\t\t}    \r\n\t\t\t\tif(self.options.tint) {\r\n\t\t\t\t\t//stops micro movements\r\n\t\t\t\t\tif(self.fullheight){\r\n\t\t\t\t\t\tself.tintposy = 0;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(self.fullwidth){ \r\n\t\t\t\t\t\tself.tintpos = 0;\r\n\r\n\t\t\t\t\t}   \r\n\t\t\t\t\tself.zoomTintImage.css({'left': self.tintpos+'px'});\r\n\t\t\t\t\tself.zoomTintImage.css({'top': self.tintposy+'px'});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tswaptheimage: function(smallimage, largeimage){\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tvar newImg = new Image(); \r\n\r\n\t\t\t\tif(self.options.loadingIcon){\r\n\t\t\t\t\tself.spinner = $('<div style=\"background: url(\\''+self.options.loadingIcon+'\\') no-repeat center;height:'+self.nzHeight+'px;width:'+self.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;\"></div>');\r\n\t\t\t\t\tself.$elem.after(self.spinner);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tself.options.onImageSwap(self.$elem);\r\n\r\n\t\t\t\tnewImg.onload = function() {\r\n\t\t\t\t\tself.largeWidth = newImg.width;\r\n\t\t\t\t\tself.largeHeight = newImg.height;\r\n\t\t\t\t\tself.zoomImage = largeimage;\r\n\t\t\t\t\tself.zoomWindow.css({ \"background-size\": self.largeWidth + 'px ' + self.largeHeight + 'px' });\r\n\t\t\t\t\tself.swapAction(smallimage, largeimage);\r\n\t\t\t\t\treturn;              \r\n\t\t\t\t}          \r\n\t\t\t\tnewImg.src = largeimage; // this must be done AFTER setting onload\r\n\r\n\t\t\t},\r\n\t\t\tswapAction: function(smallimage, largeimage){\r\n\r\n\r\n\t\t\t\tvar self = this;    \r\n\r\n\t\t\t\tvar newImg2 = new Image(); \r\n\t\t\t\tnewImg2.onload = function() {\r\n\t\t\t\t\t//re-calculate values\r\n\t\t\t\t\tself.nzHeight = newImg2.height;\r\n\t\t\t\t\tself.nzWidth = newImg2.width;\r\n\t\t\t\t\tself.options.onImageSwapComplete(self.$elem);\r\n\r\n\t\t\t\t\tself.doneCallback();  \r\n\t\t\t\t\treturn;      \r\n\t\t\t\t}          \r\n\t\t\t\tnewImg2.src = smallimage; \r\n\r\n\t\t\t\t//reset the zoomlevel to that initially set in options\r\n\t\t\t\tself.currentZoomLevel = self.options.zoomLevel;\r\n\t\t\t\tself.options.maxZoomLevel = false;\r\n\r\n\t\t\t\t//swaps the main image\r\n\t\t\t\t//self.$elem.attr(\"src\",smallimage);\r\n\t\t\t\t//swaps the zoom image     \r\n\t\t\t\tif(self.options.zoomType == \"lens\") {\r\n\t\t\t\t\tself.zoomLens.css({ backgroundImage: \"url('\" + largeimage + \"')\" }); \r\n\t\t\t\t}\r\n\t\t\t\tif(self.options.zoomType == \"window\") {\r\n\t\t\t\t\tself.zoomWindow.css({ backgroundImage: \"url('\" + largeimage + \"')\" }); \r\n\t\t\t\t}\r\n\t\t\t\tif(self.options.zoomType == \"inner\") {\r\n\t\t\t\t\tself.zoomWindow.css({ backgroundImage: \"url('\" + largeimage + \"')\" }); \r\n\t\t\t\t} \r\n\r\n\r\n\r\n\t\t\t\tself.currentImage = largeimage;\r\n\r\n\t\t\t\tif(self.options.imageCrossfade){\r\n\t\t\t\t\tvar oldImg = self.$elem;\r\n\t\t\t\t\tvar newImg = oldImg.clone();         \r\n\t\t\t\t\tself.$elem.attr(\"src\",smallimage)\r\n\t\t\t\t\tself.$elem.after(newImg);\r\n\t\t\t\t\tnewImg.stop(true).fadeOut(self.options.imageCrossfade, function() {\r\n\t\t\t\t\t\t$(this).remove();         \r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t//       \t\t\t\tif(self.options.zoomType == \"inner\"){\r\n\t\t\t\t\t//remove any attributes on the cloned image so we can resize later\r\n\t\t\t\t\tself.$elem.width(\"auto\").removeAttr(\"width\");\r\n\t\t\t\t\tself.$elem.height(\"auto\").removeAttr(\"height\");\r\n\t\t\t\t\t//   }\r\n\r\n\t\t\t\t\toldImg.fadeIn(self.options.imageCrossfade);\r\n\r\n\t\t\t\t\tif(self.options.tint && self.options.zoomType != \"inner\") {\r\n\r\n\t\t\t\t\t\tvar oldImgTint = self.zoomTintImage;\r\n\t\t\t\t\t\tvar newImgTint = oldImgTint.clone();         \r\n\t\t\t\t\t\tself.zoomTintImage.attr(\"src\",largeimage)\r\n\t\t\t\t\t\tself.zoomTintImage.after(newImgTint);\r\n\t\t\t\t\t\tnewImgTint.stop(true).fadeOut(self.options.imageCrossfade, function() {\r\n\t\t\t\t\t\t\t$(this).remove();         \r\n\t\t\t\t\t\t});\r\n\r\n\r\n\r\n\t\t\t\t\t\toldImgTint.fadeIn(self.options.imageCrossfade);\r\n\r\n\r\n\t\t\t\t\t\t//self.zoomTintImage.attr(\"width\",elem.data(\"image\"));\r\n\r\n\t\t\t\t\t\t//resize the tint window\r\n\t\t\t\t\t\tself.zoomTint.css({ height: self.$elem.height()});\r\n\t\t\t\t\t\tself.zoomTint.css({ width: self.$elem.width()});\r\n\t\t\t\t\t}    \r\n\r\n\t\t\t\t\tself.zoomContainer.css(\"height\", self.$elem.height());\r\n\t\t\t\t\tself.zoomContainer.css(\"width\", self.$elem.width());\r\n\r\n\t\t\t\t\tif(self.options.zoomType == \"inner\"){ \r\n\t\t\t\t\t\tif(!self.options.constrainType){\r\n\t\t\t\t\t\t\tself.zoomWrap.parent().css(\"height\", self.$elem.height());\r\n\t\t\t\t\t\t\tself.zoomWrap.parent().css(\"width\", self.$elem.width());\r\n\r\n\t\t\t\t\t\t\tself.zoomWindow.css(\"height\", self.$elem.height());\r\n\t\t\t\t\t\t\tself.zoomWindow.css(\"width\", self.$elem.width());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} \r\n\r\n\t\t\t\t\tif(self.options.imageCrossfade){  \r\n\t\t\t\t\t\tself.zoomWrap.css(\"height\", self.$elem.height());\r\n\t\t\t\t\t\tself.zoomWrap.css(\"width\", self.$elem.width());\r\n\t\t\t\t\t} \r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tself.$elem.attr(\"src\",smallimage); \r\n\t\t\t\t\tif(self.options.tint) {\r\n\t\t\t\t\t\tself.zoomTintImage.attr(\"src\",largeimage);\r\n\t\t\t\t\t\t//self.zoomTintImage.attr(\"width\",elem.data(\"image\"));\r\n\t\t\t\t\t\tself.zoomTintImage.attr(\"height\",self.$elem.height());\r\n\t\t\t\t\t\t//self.zoomTintImage.attr('src') = elem.data(\"image\");\r\n\t\t\t\t\t\tself.zoomTintImage.css({ height: self.$elem.height()}); \r\n\t\t\t\t\t\tself.zoomTint.css({ height: self.$elem.height()});\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.zoomContainer.css(\"height\", self.$elem.height());\r\n\t\t\t\t\tself.zoomContainer.css(\"width\", self.$elem.width());\r\n\r\n\t\t\t\t\tif(self.options.imageCrossfade){  \r\n\t\t\t\t\t\tself.zoomWrap.css(\"height\", self.$elem.height());\r\n\t\t\t\t\t\tself.zoomWrap.css(\"width\", self.$elem.width());\r\n\t\t\t\t\t} \r\n\t\t\t\t}              \r\n\t\t\t\tif(self.options.constrainType){     \r\n\r\n\t\t\t\t\t//This will contrain the image proportions\r\n\t\t\t\t\tif(self.options.constrainType == \"height\"){ \r\n\r\n\t\t\t\t\t\tself.zoomContainer.css(\"height\", self.options.constrainSize);\r\n\t\t\t\t\t\tself.zoomContainer.css(\"width\", \"auto\");\r\n\r\n\t\t\t\t\t\tif(self.options.imageCrossfade){  \r\n\t\t\t\t\t\t\tself.zoomWrap.css(\"height\", self.options.constrainSize);\r\n\t\t\t\t\t\t\tself.zoomWrap.css(\"width\", \"auto\"); \r\n\t\t\t\t\t\t\tself.constwidth = self.zoomWrap.width();\r\n\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{                  \r\n\t\t\t\t\t\t\tself.$elem.css(\"height\", self.options.constrainSize);\r\n\t\t\t\t\t\t\tself.$elem.css(\"width\", \"auto\");\r\n\t\t\t\t\t\t\tself.constwidth = self.$elem.width();\r\n\t\t\t\t\t\t} \r\n\r\n\t\t\t\t\t\tif(self.options.zoomType == \"inner\"){\r\n\r\n\t\t\t\t\t\t\tself.zoomWrap.parent().css(\"height\", self.options.constrainSize);\r\n\t\t\t\t\t\t\tself.zoomWrap.parent().css(\"width\", self.constwidth);   \r\n\t\t\t\t\t\t\tself.zoomWindow.css(\"height\", self.options.constrainSize);\r\n\t\t\t\t\t\t\tself.zoomWindow.css(\"width\", self.constwidth);    \r\n\t\t\t\t\t\t}        \r\n\t\t\t\t\t\tif(self.options.tint){\r\n\t\t\t\t\t\t\tself.tintContainer.css(\"height\", self.options.constrainSize);\r\n\t\t\t\t\t\t\tself.tintContainer.css(\"width\", self.constwidth);\r\n\t\t\t\t\t\t\tself.zoomTint.css(\"height\", self.options.constrainSize);\r\n\t\t\t\t\t\t\tself.zoomTint.css(\"width\", self.constwidth);\r\n\t\t\t\t\t\t\tself.zoomTintImage.css(\"height\", self.options.constrainSize);\r\n\t\t\t\t\t\t\tself.zoomTintImage.css(\"width\", self.constwidth); \r\n\t\t\t\t\t\t} \r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(self.options.constrainType == \"width\"){       \r\n\t\t\t\t\t\tself.zoomContainer.css(\"height\", \"auto\");\r\n\t\t\t\t\t\tself.zoomContainer.css(\"width\", self.options.constrainSize);\r\n\r\n\t\t\t\t\t\tif(self.options.imageCrossfade){\r\n\t\t\t\t\t\t\tself.zoomWrap.css(\"height\", \"auto\");\r\n\t\t\t\t\t\t\tself.zoomWrap.css(\"width\", self.options.constrainSize);\r\n\t\t\t\t\t\t\tself.constheight = self.zoomWrap.height();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{            \r\n\t\t\t\t\t\t\tself.$elem.css(\"height\", \"auto\");\r\n\t\t\t\t\t\t\tself.$elem.css(\"width\", self.options.constrainSize); \r\n\t\t\t\t\t\t\tself.constheight = self.$elem.height();              \r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tif(self.options.zoomType == \"inner\"){\r\n\t\t\t\t\t\t\tself.zoomWrap.parent().css(\"height\", self.constheight);\r\n\t\t\t\t\t\t\tself.zoomWrap.parent().css(\"width\", self.options.constrainSize);   \r\n\t\t\t\t\t\t\tself.zoomWindow.css(\"height\", self.constheight);\r\n\t\t\t\t\t\t\tself.zoomWindow.css(\"width\", self.options.constrainSize);    \r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\tif(self.options.tint){\r\n\t\t\t\t\t\t\tself.tintContainer.css(\"height\", self.constheight);\r\n\t\t\t\t\t\t\tself.tintContainer.css(\"width\", self.options.constrainSize);\r\n\t\t\t\t\t\t\tself.zoomTint.css(\"height\", self.constheight);\r\n\t\t\t\t\t\t\tself.zoomTint.css(\"width\", self.options.constrainSize);\r\n\t\t\t\t\t\t\tself.zoomTintImage.css(\"height\", self.constheight);\r\n\t\t\t\t\t\t\tself.zoomTintImage.css(\"width\", self.options.constrainSize); \r\n\t\t\t\t\t\t}   \r\n\r\n\t\t\t\t\t}        \r\n\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tdoneCallback: function(){\r\n\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tif(self.options.loadingIcon){\r\n\t\t\t\t\tself.spinner.hide();     \r\n\t\t\t\t}   \r\n\r\n\t\t\t\tself.nzOffset = self.$elem.offset();\r\n\t\t\t\tself.nzWidth = self.$elem.width();\r\n\t\t\t\tself.nzHeight = self.$elem.height();\r\n\r\n\t\t\t\t// reset the zoomlevel back to default\r\n\t\t\t\tself.currentZoomLevel = self.options.zoomLevel;\r\n\r\n\t\t\t\t//ratio of the large to small image\r\n\t\t\t\tself.widthRatio = self.largeWidth / self.nzWidth;\r\n\t\t\t\tself.heightRatio = self.largeHeight / self.nzHeight; \r\n\r\n\t\t\t\t//NEED TO ADD THE LENS SIZE FOR ROUND\r\n\t\t\t\t// adjust images less than the window height\r\n\t\t\t\tif(self.options.zoomType == \"window\") {\r\n\r\n\t\t\t\t\tif(self.nzHeight < self.options.zoomWindowWidth/self.widthRatio){\r\n\t\t\t\t\t\tlensHeight = self.nzHeight;  \r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tlensHeight = String((self.options.zoomWindowHeight/self.heightRatio))\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(self.options.zoomWindowWidth < self.options.zoomWindowWidth){\r\n\t\t\t\t\t\tlensWidth = self.nzWidth;\r\n\t\t\t\t\t}       \r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tlensWidth =  (self.options.zoomWindowWidth/self.widthRatio);\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tif(self.zoomLens){\r\n\r\n\t\t\t\t\t\tself.zoomLens.css('width', lensWidth);    \r\n\t\t\t\t\t\tself.zoomLens.css('height', lensHeight); \r\n\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetCurrentImage: function(){\r\n\t\t\t\tvar self = this;  \r\n\t\t\t\treturn self.zoomImage; \r\n\t\t\t}, \r\n\t\t\tgetGalleryList: function(){\r\n\t\t\t\tvar self = this;   \r\n\t\t\t\t//loop through the gallery options and set them in list for fancybox\r\n\t\t\t\tself.gallerylist = [];\r\n\t\t\t\tif (self.options.gallery){ \r\n\r\n\r\n\t\t\t\t\t$('#'+self.options.gallery + ' a').each(function() {\r\n\r\n\t\t\t\t\t\tvar img_src = '';\r\n\t\t\t\t\t\tif($(this).data(\"zoom-image\")){\r\n\t\t\t\t\t\t\timg_src = $(this).data(\"zoom-image\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if($(this).data(\"image\")){\r\n\t\t\t\t\t\t\timg_src = $(this).data(\"image\");\r\n\t\t\t\t\t\t}\t\t\t\r\n\t\t\t\t\t\t//put the current image at the start\r\n\t\t\t\t\t\tif(img_src == self.zoomImage){\r\n\t\t\t\t\t\t\tself.gallerylist.unshift({\r\n\t\t\t\t\t\t\t\thref: ''+img_src+'',\r\n\t\t\t\t\t\t\t\ttitle: $(this).find('img').attr(\"title\")\r\n\t\t\t\t\t\t\t});\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tself.gallerylist.push({\r\n\t\t\t\t\t\t\t\thref: ''+img_src+'',\r\n\t\t\t\t\t\t\t\ttitle: $(this).find('img').attr(\"title\")\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t}                                                       \r\n\t\t\t\t//if no gallery - return current image\r\n\t\t\t\telse{\r\n\t\t\t\t\tself.gallerylist.push({\r\n\t\t\t\t\t\thref: ''+self.zoomImage+'',\r\n\t\t\t\t\t\ttitle: $(this).find('img').attr(\"title\")\r\n\t\t\t\t\t}); \r\n\t\t\t\t}\r\n\t\t\t\treturn self.gallerylist;\r\n\r\n\t\t\t},\r\n\t\t\tchangeZoomLevel: function(value){\r\n\t\t\t\tvar self = this;   \r\n\r\n\t\t\t\t//flag a zoom, so can adjust the easing during setPosition     \r\n\t\t\t\tself.scrollingLock = true;   \r\n\r\n\t\t\t\t//round to two decimal places\r\n\t\t\t\tself.newvalue = parseFloat(value).toFixed(2);\r\n\t\t\t\tnewvalue = parseFloat(value).toFixed(2);\r\n\r\n\r\n\r\n\r\n\t\t\t\t//maxwidth & Maxheight of the image\r\n\t\t\t\tmaxheightnewvalue = self.largeHeight/((self.options.zoomWindowHeight / self.nzHeight) * self.nzHeight);     \r\n\t\t\t\tmaxwidthtnewvalue = self.largeWidth/((self.options.zoomWindowWidth / self.nzWidth) * self.nzWidth);   \t\r\n\r\n\r\n\r\n\r\n\t\t\t\t//calculate new heightratio\r\n\t\t\t\tif(self.options.zoomType != \"inner\")\r\n\t\t\t\t{\r\n\t\t\t\t\tif(maxheightnewvalue <= newvalue){\r\n\t\t\t\t\t\tself.heightRatio = (self.largeHeight/maxheightnewvalue) / self.nzHeight;\r\n\t\t\t\t\t\tself.newvalueheight = maxheightnewvalue;\r\n\t\t\t\t\t\tself.fullheight = true;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tself.heightRatio = (self.largeHeight/newvalue) / self.nzHeight; \r\n\t\t\t\t\t\tself.newvalueheight = newvalue;\r\n\t\t\t\t\t\tself.fullheight = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n//\t\t\t\t\tcalculate new width ratio\r\n\r\n\t\t\t\t\tif(maxwidthtnewvalue <= newvalue){\r\n\t\t\t\t\t\tself.widthRatio = (self.largeWidth/maxwidthtnewvalue) / self.nzWidth;\r\n\t\t\t\t\t\tself.newvaluewidth = maxwidthtnewvalue;\r\n\t\t\t\t\t\tself.fullwidth = true;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tself.widthRatio = (self.largeWidth/newvalue) / self.nzWidth; \r\n\t\t\t\t\t\tself.newvaluewidth = newvalue;\r\n\t\t\t\t\t\tself.fullwidth = false;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(self.options.zoomType == \"lens\"){\r\n\t\t\t\t\t\tif(maxheightnewvalue <= newvalue){\r\n\t\t\t\t\t\t\tself.fullwidth = true;\r\n\t\t\t\t\t\t\tself.newvaluewidth = maxheightnewvalue;\r\n\r\n\t\t\t\t\t\t} else{\r\n\t\t\t\t\t\t\tself.widthRatio = (self.largeWidth/newvalue) / self.nzWidth; \r\n\t\t\t\t\t\t\tself.newvaluewidth = newvalue;\r\n\r\n\t\t\t\t\t\t\tself.fullwidth = false;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\tif(self.options.zoomType == \"inner\")\r\n\t\t\t\t{\r\n\t\t\t\t\tmaxheightnewvalue = parseFloat(self.largeHeight/self.nzHeight).toFixed(2);     \r\n\t\t\t\t\tmaxwidthtnewvalue = parseFloat(self.largeWidth/self.nzWidth).toFixed(2);      \r\n\t\t\t\t\tif(newvalue > maxheightnewvalue){\r\n\t\t\t\t\t\tnewvalue = maxheightnewvalue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(newvalue > maxwidthtnewvalue){\r\n\t\t\t\t\t\tnewvalue = maxwidthtnewvalue;\r\n\t\t\t\t\t}      \r\n\r\n\r\n\t\t\t\t\tif(maxheightnewvalue <= newvalue){\r\n\r\n\r\n\t\t\t\t\t\tself.heightRatio = (self.largeHeight/newvalue) / self.nzHeight; \r\n\t\t\t\t\t\tif(newvalue > maxheightnewvalue){\r\n\t\t\t\t\t\t\tself.newvalueheight = maxheightnewvalue;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tself.newvalueheight = newvalue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.fullheight = true;\r\n\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\r\n\r\n\r\n\t\t\t\t\t\tself.heightRatio = (self.largeHeight/newvalue) / self.nzHeight; \r\n\r\n\t\t\t\t\t\tif(newvalue > maxheightnewvalue){\r\n\r\n\t\t\t\t\t\t\tself.newvalueheight = maxheightnewvalue;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tself.newvalueheight = newvalue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself.fullheight = false;\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\t\t\tif(maxwidthtnewvalue <= newvalue){   \r\n\r\n\t\t\t\t\t\tself.widthRatio = (self.largeWidth/newvalue) / self.nzWidth; \r\n\t\t\t\t\t\tif(newvalue > maxwidthtnewvalue){\r\n\r\n\t\t\t\t\t\t\tself.newvaluewidth = maxwidthtnewvalue;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tself.newvaluewidth = newvalue;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tself.fullwidth = true;\r\n\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{  \r\n\r\n\t\t\t\t\t\tself.widthRatio = (self.largeWidth/newvalue) / self.nzWidth; \r\n\t\t\t\t\t\tself.newvaluewidth = newvalue;\r\n\t\t\t\t\t\tself.fullwidth = false;\r\n\t\t\t\t\t}        \r\n\r\n\r\n\t\t\t\t} //end inner\r\n\t\t\t\tscrcontinue = false;\r\n\r\n\t\t\t\tif(self.options.zoomType == \"inner\"){\r\n\r\n\t\t\t\t\tif(self.nzWidth >= self.nzHeight){\r\n\t\t\t\t\t\tif( self.newvaluewidth <= maxwidthtnewvalue){\r\n\t\t\t\t\t\t\tscrcontinue = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\r\n\t\t\t\t\t\t\tscrcontinue = false;\r\n\t\t\t\t\t\t\tself.fullheight = true;\r\n\t\t\t\t\t\t\tself.fullwidth = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(self.nzHeight > self.nzWidth){     \r\n\t\t\t\t\t\tif( self.newvaluewidth <= maxwidthtnewvalue){\r\n\t\t\t\t\t\t\tscrcontinue = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tscrcontinue = false;  \r\n\r\n\t\t\t\t\t\t\tself.fullheight = true;\r\n\t\t\t\t\t\t\tself.fullwidth = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(self.options.zoomType != \"inner\"){\r\n\t\t\t\t\tscrcontinue = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(scrcontinue){\r\n\r\n\r\n\r\n\t\t\t\t\tself.zoomLock = 0;\r\n\t\t\t\t\tself.changeZoom = true;\r\n\r\n\t\t\t\t\t//if lens height is less than image height\r\n\r\n\r\n\t\t\t\t\tif(((self.options.zoomWindowHeight)/self.heightRatio) <= self.nzHeight){\r\n\r\n\r\n\t\t\t\t\t\tself.currentZoomLevel = self.newvalueheight; \r\n\t\t\t\t\t\tif(self.options.zoomType != \"lens\" && self.options.zoomType != \"inner\") {\r\n\t\t\t\t\t\t\tself.changeBgSize = true;\r\n\r\n\t\t\t\t\t\t\tself.zoomLens.css({height: String((self.options.zoomWindowHeight)/self.heightRatio) + 'px' }) \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(self.options.zoomType == \"lens\" || self.options.zoomType == \"inner\") {  \r\n\t\t\t\t\t\t\tself.changeBgSize = true;  \r\n\t\t\t\t\t\t}\t\r\n\r\n\r\n\t\t\t\t\t} \r\n\r\n\r\n\r\n\r\n\t\t\t\t\tif((self.options.zoomWindowWidth/self.widthRatio) <= self.nzWidth){\r\n\r\n\r\n\r\n\t\t\t\t\t\tif(self.options.zoomType != \"inner\"){\r\n\t\t\t\t\t\t\tif(self.newvaluewidth > self.newvalueheight)   {\r\n\t\t\t\t\t\t\t\tself.currentZoomLevel = self.newvaluewidth;                 \r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(self.options.zoomType != \"lens\" && self.options.zoomType != \"inner\") {\r\n\t\t\t\t\t\t\tself.changeBgSize = true;\r\n\r\n\t\t\t\t\t\t\tself.zoomLens.css({width: String((self.options.zoomWindowWidth)/self.widthRatio) + 'px' })\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(self.options.zoomType == \"lens\" || self.options.zoomType == \"inner\") {  \r\n\t\t\t\t\t\t\tself.changeBgSize = true;\r\n\t\t\t\t\t\t}\t\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(self.options.zoomType == \"inner\"){\r\n\t\t\t\t\t\tself.changeBgSize = true;  \r\n\r\n\t\t\t\t\t\tif(self.nzWidth > self.nzHeight){\r\n\t\t\t\t\t\t\tself.currentZoomLevel = self.newvaluewidth;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(self.nzHeight > self.nzWidth){\r\n\t\t\t\t\t\t\tself.currentZoomLevel = self.newvaluewidth;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}      //under\r\n\r\n\t\t\t\t//sets the boundry change, called in setWindowPos\r\n\t\t\t\tself.setPosition(self.currentLoc);\r\n\t\t\t\t//\r\n\t\t\t},\r\n\t\t\tcloseAll: function(){\r\n\t\t\t\tif(self.zoomWindow){self.zoomWindow.hide();}\r\n\t\t\t\tif(self.zoomLens){self.zoomLens.hide();}\r\n\t\t\t\tif(self.zoomTint){self.zoomTint.hide();}\r\n\t\t\t},\r\n\t\t\tchangeState: function(value){\r\n      \tvar self = this;\r\n\t\t\t\tif(value == 'enable'){self.options.zoomEnabled = true;}\r\n\t\t\t\tif(value == 'disable'){self.options.zoomEnabled = false;}\r\n\r\n\t\t\t}\r\n\r\n\t};\r\n\r\n\r\n\r\n\r\n\t$.fn.elevateZoom = function( options ) {\r\n\t\treturn this.each(function() {\r\n\t\t\tvar elevate = Object.create( ElevateZoom );\r\n\r\n\t\t\televate.init( options, this );\r\n\r\n\t\t\t$.data( this, 'elevateZoom', elevate );\r\n\r\n\t\t});\r\n\t};\r\n\r\n\t$.fn.elevateZoom.options = {\r\n\t\t\tzoomActivation: \"hover\", // Can also be click (PLACEHOLDER FOR NEXT VERSION)\r\n      zoomEnabled: true, //false disables zoomwindow from showing\r\n\t\t\tpreloading: 1, //by default, load all the images, if 0, then only load images after activated (PLACEHOLDER FOR NEXT VERSION)\r\n\t\t\tzoomLevel: 1, //default zoom level of image\r\n\t\t\tscrollZoom: false, //allow zoom on mousewheel, true to activate\r\n\t\t\tscrollZoomIncrement: 0.1,  //steps of the scrollzoom\r\n\t\t\tminZoomLevel: false,\r\n\t\t\tmaxZoomLevel: false,\r\n\t\t\teasing: false,\r\n\t\t\teasingAmount: 12,\r\n\t\t\tlensSize: 200,\r\n\t\t\tzoomWindowWidth: 400,\r\n\t\t\tzoomWindowHeight: 400,\r\n\t\t\tzoomWindowOffetx: 0,\r\n\t\t\tzoomWindowOffety: 0,\r\n\t\t\tzoomWindowPosition: 1,\r\n\t\t\tzoomWindowBgColour: \"#fff\",\r\n\t\t\tlensFadeIn: false,\r\n\t\t\tlensFadeOut: false,\r\n\t\t\tdebug: false,\r\n\t\t\tzoomWindowFadeIn: false,\r\n\t\t\tzoomWindowFadeOut: false,\r\n\t\t\tzoomWindowAlwaysShow: false,\r\n\t\t\tzoomTintFadeIn: false,\r\n\t\t\tzoomTintFadeOut: false,\r\n\t\t\tborderSize: 4,\r\n\t\t\tshowLens: true,\r\n\t\t\tborderColour: \"#888\",\r\n\t\t\tlensBorderSize: 1,\r\n\t\t\tlensBorderColour: \"#000\",\r\n\t\t\tlensShape: \"square\", //can be \"round\"\r\n\t\t\tzoomType: \"window\", //window is default,  also \"lens\" available -\r\n\t\t\tcontainLensZoom: false,\r\n\t\t\tlensColour: \"white\", //colour of the lens background\r\n\t\t\tlensOpacity: 0.4, //opacity of the lens\r\n\t\t\tlenszoom: false,\r\n\t\t\ttint: false, //enable the tinting\r\n\t\t\ttintColour: \"#333\", //default tint color, can be anything, red, #ccc, rgb(0,0,0)\r\n\t\t\ttintOpacity: 0.4, //opacity of the tint\r\n\t\t\tgallery: false,\r\n\t\t\tgalleryActiveClass: \"zoomGalleryActive\",\r\n\t\t\timageCrossfade: false,\r\n\t\t\tconstrainType: false,  //width or height\r\n\t\t\tconstrainSize: false,  //in pixels the dimensions you want to constrain on\r\n\t\t\tloadingIcon: false, //http://www.example.com/spinner.gif\r\n\t\t\tcursor:\"default\", // user should set to what they want the cursor as, if they have set a click function\r\n\t\t\tresponsive:true,\r\n\t\t\tonComplete: $.noop,\r\n      onDestroy: function() {},\r\n\t\t\tonZoomedImageLoaded: function() {},\r\n\t\t\tonImageSwap: $.noop,\r\n\t\t\tonImageSwapComplete: $.noop\r\n\t};\r\n\r\n})( jQuery, window, document );"],"sourceRoot":"/source/"}